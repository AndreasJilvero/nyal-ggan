var Vitec;(function(n){var t;(function(n){var t=function(){function n(n,t,i){this.ao=i;this.sl=!1;this.ts=!1;this.tp=!1;this.tu=i.u+n;this.su=i.u+t;this.uuid=this.guid();this.sc={cb_init:this.si,cb_get:this.sgcb,cv_get_r:null};this.cd={create:this.c_c,set:this.c_ss}}return n.prototype.i=function(){if(this.pq(),!this.ao.k){console.log("create not called or key missing");return}try{this.is()}catch(n){this.tv();console.log("storage error: "+n)}},n.prototype.pq=function(){for(var n=this.ao.q;n.length>0;)this.pc(n.shift())},n.prototype.pc=function(n){if(n.length!==0){var t=Array.prototype.slice.call(n),i=t[0],r=t.slice(1);try{this.cd[i].apply(this,r)}catch(u){console.log("cmd ["+i+"] error: "+u)}}},n.prototype.c_c=function(n){this.ao.k=n},n.prototype.c_ss=function(n,t){this.ao.p=this.ao.p||{};this.ao.p[n]=t},n.prototype.c_gs=function(n){return this.ao.p?this.ao.p[n]:null},n.prototype.si=function(n){if(this.sl=n.s,n.s)if(n.uuid)this.uuid=n.uuid;else try{this.ssv("_va",this.uuid)}catch(t){this.sl=!1;console.log("storage error: "+t)}this.tv()},n.prototype.ssv=function(n,t){this.ps({m:"set",k:n,v:t})},n.prototype.sgv=function(n,t){this.sc.cv_get_r=t;this.ps({m:"get",k:n})},n.prototype.sgcb=function(n){this.sc.cv_get_r&&this.sc.cv_get_r(n.v)},n.prototype.hm=function(t){var i=t.data;i.n===n.storageNamespace&&this.sc[i.m].call(this,i)},n.prototype.is=function(){var t=this,i=this.c_gs("storage_timeout")||3e3,n=document.createElement("iframe");n.width="0px";n.height="0px";n.style.display="none";n.src=this.su;n.onload=function(){window.setTimeout(function(){return t.ws()},i);t.s=n;t.ps({m:"init"})};document.body.appendChild(n);window.addEventListener("message",function(n){return t.hm(n)})},n.prototype.ps=function(t){t.n=n.storageNamespace;this.s.contentWindow.postMessage(t,this.su)},n.prototype.ws=function(){this.sl||(this.ts||this.tp||this.tv(),console.log("storage timeout or error"))},n.prototype.tv=function(n){var i=this,u=512e3,r="vitec-trc-pixel",t;n=n||250;this.ts||(this.tp=!0,t=document.createElement("img"),t.className=r,t.style.display="none",t.src=this.gtvu(),t.onerror=function(){if(!i.ts&&n<=u){var t=i.ge(r);t&&t.remove();window.setTimeout(function(){return i.tv(n*2)},n)}else i.tp=!1},t.onload=function(){i.ts=!0;i.tp=!1},document.body.appendChild(t))},n.prototype.gtvu=function(){var n=this.c_gs("target"),r=n?encodeURIComponent(n):null,t=this.c_gs("target_customer_id"),i=t?encodeURIComponent(t):null,u=encodeURIComponent(window.location.href),f=encodeURIComponent(document.referrer),e=Date.now(),o=this.ao.k,s=i?"&gc="+i:"";return this.tu+"v/"+o+"?u="+this.uuid+"&g="+r+s+"&c="+u+"&r="+f+"&t="+e},n.prototype.ge=function(n){return document.querySelector("."+n)},n.prototype.guid=function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(n){return(n^crypto.getRandomValues(new Uint8Array(1))[0]&15>>n/4).toString(16)})},n.storageNamespace="vitecm",n}();n.Tracker=t})(t=n.M||(n.M={}))})(Vitec||(Vitec={})),function(n){var t=n.VitecMAnalytics;t.t=t.t||new Vitec.M.Tracker("/api/v1/","/content/v1/s.html",t);t.t.i()}(window);