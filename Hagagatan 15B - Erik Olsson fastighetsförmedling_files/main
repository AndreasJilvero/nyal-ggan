function getTimeRemaining(n){var t=Date.parse(n)-new Date,i=Math.floor(t/1e3%60),r=Math.floor(t/6e4%60),u=Math.floor(t/36e5%24),f=Math.floor(t/864e5);return t<=0?{total:0,days:0,hours:0,minutes:0,seconds:0}:{total:t,days:f,hours:u,minutes:r,seconds:i}}function initializeClock(n,t){function r(){var n=getTimeRemaining(t);f.innerHTML=n.days;e.innerHTML=("0"+n.hours).slice(-2);o.innerHTML=("0"+n.minutes).slice(-2);s.innerHTML=("0"+n.seconds).slice(-2);n.total<=0&&clearInterval(u)}var i=document.getElementById(n),f=i.querySelector(".days"),e=i.querySelector(".hours"),o=i.querySelector(".minutes"),s=i.querySelector(".seconds"),u;r();u=setInterval(r,1e3)}var Forms,Article,__assign,Constants,Cookies,Wall,PageType,__awaiter,__generator,HousingCoverage,LightBox,Images,Maps,NewsletterSubScription,NyprodAnimations,Project,Navigation,Rating,Transitions,Search,Shared,Shims,Toggles,Share,StartPageVideo,Helpers,SubsiteAnimations,Ticker,Analytics,Form,Filter,XForms;!function(n){function i(n,t,i){n.rules[t]=i;n.message&&(n.messages[t]=n.message)}function h(n){return n.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}function f(n){return n.replace(/([!"#$%&'()*+,./:;<=>?@\[\\\]^`{|}~])/g,"\\$1")}function e(n){return n.substr(0,n.lastIndexOf(".")+1)}function o(n,t){return 0===n.indexOf("*.")&&(n=n.replace("*.",t)),n}function c(t,i){var r=n(this).find("[data-valmsg-for='"+f(i[0].name)+"']"),u=r.attr("data-valmsg-replace"),e=u?n.parseJSON(u)!==!1:null;r.removeClass("field-validation-valid").addClass("field-validation-error");t.data("unobtrusiveContainer",r);e?(r.empty(),t.removeClass("input-validation-error").appendTo(r)):t.hide()}function l(t,i){var u=n(this).find("[data-valmsg-summary=true]"),r=u.find("ul");r&&r.length&&i.errorList.length&&(r.empty(),u.addClass("validation-summary-errors").removeClass("validation-summary-valid"),n.each(i.errorList,function(){n("<li />").html(this.message).appendTo(r)}))}function a(t){var i=t.data("unobtrusiveContainer"),r,u;i&&(r=i.attr("data-valmsg-replace"),u=r?n.parseJSON(r):null,i.addClass("field-validation-valid").removeClass("field-validation-error"),t.removeData("unobtrusiveContainer"),u&&i.empty())}function v(){var t=n(this),i="__jquery_unobtrusive_validation_form_reset";if(!t.data(i)){t.data(i,!0);try{t.data("validator").resetForm()}finally{t.removeData(i)}t.find(".validation-summary-errors").addClass("validation-summary-valid").removeClass("validation-summary-errors");t.find(".field-validation-error").addClass("field-validation-valid").removeClass("field-validation-error").removeData("unobtrusiveContainer").find(">*").removeData("unobtrusiveContainer")}}function s(t){var i=n(t),f=i.data(u),s=n.proxy(v,t),e=r.unobtrusive.options||{},o=function(i,r){var u=e[i];u&&n.isFunction(u)&&u.apply(t,r)};return f||(f={options:{errorClass:e.errorClass||"input-validation-error",errorElement:e.errorElement||"span",errorPlacement:function(){c.apply(t,arguments);o("errorPlacement",arguments)},invalidHandler:function(){l.apply(t,arguments);o("invalidHandler",arguments)},messages:{},rules:{},success:function(){a.apply(t,arguments);o("success",arguments)}},attachValidation:function(){i.off("reset."+u,s).on("reset."+u,s).validate(this.options)},validate:function(){return i.validate(),i.valid()}},i.data(u,f)),f}var t,r=n.validator,u="unobtrusiveValidation";r.unobtrusive={adapters:[],parseElement:function(t,i){var r,u,o,f=n(t),e=f.parents("form")[0];e&&(r=s(e),r.options.rules[t.name]=u={},r.options.messages[t.name]=o={},n.each(this.adapters,function(){var i="data-val-"+this.name,r=f.attr(i),s={};void 0!==r&&(i+="-",n.each(this.params,function(){s[this]=f.attr(i+this)}),this.adapt({element:t,form:e,message:r,params:s,rules:u,messages:o}))}),n.extend(u,{__dummy__:!0}),i||r.attachValidation())},parse:function(t){var i=n(t),u=i.parents().addBack().filter("form").add(i.find("form")).has("[data-val=true]");i.find("[data-val=true]").each(function(){r.unobtrusive.parseElement(this,!0)});u.each(function(){var n=s(this);n&&n.attachValidation()})}};t=r.unobtrusive.adapters;t.add=function(n,t,i){return i||(i=t,t=[]),this.push({name:n,params:t,adapt:i}),this};t.addBool=function(n,t){return this.add(n,function(r){i(r,t||n,!0)})};t.addMinMax=function(n,t,r,u,f,e){return this.add(n,[f||"min",e||"max"],function(n){var f=n.params.min,e=n.params.max;f&&e?i(n,u,[f,e]):f?i(n,t,f):e&&i(n,r,e)})};t.addSingleVal=function(n,t,r){return this.add(n,[t||"val"],function(u){i(u,r||n,u.params[t])})};r.addMethod("__dummy__",function(){return!0});r.addMethod("regex",function(n,t,i){var r;return this.optional(t)?!0:(r=new RegExp(i).exec(n),r&&0===r.index&&r[0].length===n.length)});r.addMethod("nonalphamin",function(n,t,i){var r;return i&&(r=n.match(/\W/g),r=r&&r.length>=i),r});r.methods.extension?(t.addSingleVal("accept","mimtype"),t.addSingleVal("extension","extension")):t.addSingleVal("extension","extension","accept");t.addSingleVal("regex","pattern");t.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url");t.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range");t.addMinMax("minlength","minlength").addMinMax("maxlength","minlength","maxlength");t.add("equalto",["other"],function(t){var r=e(t.element.name),u=t.params.other,s=o(u,r),h=n(t.form).find(":input").filter("[name='"+f(s)+"']")[0];i(t,"equalTo",h)});t.add("required",function(n){("INPUT"!==n.element.tagName.toUpperCase()||"CHECKBOX"!==n.element.type.toUpperCase())&&i(n,"required",!0)});t.add("remote",["url","type","additionalfields"],function(t){var r={url:t.params.url,type:t.params.type||"GET",data:{}},u=e(t.element.name);n.each(h(t.params.additionalfields||t.element.name),function(i,e){var s=o(e,u);r.data[s]=function(){var i=n(t.form).find(":input").filter("[name='"+f(s)+"']");return i.is(":checkbox")?i.filter(":checked").val()||i.filter(":hidden").val()||"":i.is(":radio")?i.filter(":checked").val()||"":i.val()}});i(t,"remote",r)});t.add("password",["min","nonalphamin","regex"],function(n){n.params.min&&i(n,"minlength",n.params.min);n.params.nonalphamin&&i(n,"nonalphamin",n.params.nonalphamin);n.params.regex&&i(n,"regex",n.params.regex)});n(function(){r.unobtrusive.parse(document)})}(jQuery);!function(n){n.validator.unobtrusive.adapters.addBool("mandatory","required")}(jQuery),function(n){n.fn.resetValidation=function(){var n=this;return n[0].reset(),n.validate().resetForm(),n.find("[data-valmsg-summary=true]").removeClass("validation-summary-errors").addClass("validation-summary-valid").find("ul").empty(),n.find("[data-valmsg-replace]").removeClass("field-validation-error").addClass("field-validation-valid").empty(),n}}(jQuery);!function(n){"use strict";function t(n,i){if(!(this instanceof t)){var r=new t(n,i);return r.open(),r}this.id=t.id++;this.setup(n,i);this.chainCallbacks(t._callbackChain)}if("undefined"==typeof n)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var i=[],r=function(t){return i=n.grep(i,function(n){return n!==t&&n.$instance.closest("body").length>0})},e=function(n,t){var u={},e=new RegExp("^"+t+"([A-Z])(.*)"),r,i,f;for(r in n)i=r.match(e),i&&(f=(i[1]+i[2].replace(/([A-Z])/g,"-$1")).toLowerCase(),u[f]=n[r]);return u},u={keyup:"onKeyUp",resize:"onResize"},o=function(i){n.each(t.opened().reverse(),function(){if(!i.isDefaultPrevented()&&!1===this[u[i.type]](i))return(i.preventDefault(),i.stopPropagation(),!1)})},f=function(i){if(i!==t._globalHandlerInstalled){t._globalHandlerInstalled=i;var r=n.map(u,function(n,i){return i+"."+t.prototype.namespace}).join(" ");n(window)[i?"on":"off"](r,o)}};t.prototype={constructor:t,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:n.noop,beforeContent:n.noop,beforeClose:n.noop,afterOpen:n.noop,afterContent:n.noop,afterClose:n.noop,onKeyUp:n.noop,onResize:n.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(t,i){"object"!=typeof t||t instanceof n!=!1||i||(i=t,t=void 0);var r=n.extend(this,i,{target:t}),u=r.resetCss?r.namespace+"-reset":r.namespace,f=n(r.background||['<div class="'+u+"-loading "+u+'">','<div class="'+u+'-content">','<span class="'+u+"-close-icon "+r.namespace+'-close">',r.closeIcon,"<\/span>",'<div class="'+r.namespace+'-inner">'+r.loading+"<\/div>","<\/div>","<\/div>"].join("")),e="."+r.namespace+"-close"+(r.otherClose?","+r.otherClose:"");return r.$instance=f.clone().addClass(r.variant),r.$instance.on(r.closeTrigger+"."+r.namespace,function(t){var i=n(t.target);("background"===r.closeOnClick&&i.is("."+r.namespace)||"anywhere"===r.closeOnClick||i.closest(e).length)&&(r.close(t),t.preventDefault())}),this},getContent:function(){var e,u;if(this.persist!==!1&&this.$content)return this.$content;var r=this,f=this.constructor.contentFilters,o=function(n){return r.$currentTarget&&r.$currentTarget.attr(n)},s=o(r.targetAttr),t=r.target||s||"",i=f[r.type];if(!i&&t in f&&(i=f[t],t=r.target&&s),t=t||o("href")||"",!i)for(e in f)r[e]&&(i=f[e],t=r[e]);return!i&&(u=t,t=null,n.each(r.contentFilters,function(){return i=f[this],i.test&&(t=i.test(u)),!t&&i.regex&&u.match&&u.match(i.regex)&&(t=u),!t}),!t)?("console"in window&&window.console.error("Featherlight: no content filter found "+(u?' for "'+u+'"':" (no target specified)")),!1):i.process.call(r,t)},setContent:function(t){var i=this;return(t.is("iframe")||n("iframe",t).length>0)&&i.$instance.addClass(i.namespace+"-iframe"),i.$instance.removeClass(i.namespace+"-loading"),i.$instance.find("."+i.namespace+"-inner").not(t).slice(1).remove().end().replaceWith(n.contains(i.$instance[0],t[0])?"":t),i.$content=t.addClass(i.namespace+"-inner"),i},open:function(t){var r=this,u;return(r.$instance.hide().appendTo(r.root),!(t&&t.isDefaultPrevented()||r.beforeOpen(t)===!1))&&(t&&t.preventDefault(),u=r.getContent(),u)?(i.push(r),f(!0),r.$instance.fadeIn(r.openSpeed),r.beforeContent(t),n.when(u).always(function(n){r.setContent(n);r.afterContent(t)}).then(r.$instance.promise()).done(function(){r.afterOpen(t)})):(r.$instance.detach(),n.Deferred().reject().promise())},close:function(t){var i=this,u=n.Deferred();return i.beforeClose(t)===!1?u.reject():(0===r(i).length&&f(!1),i.$instance.fadeOut(i.closeSpeed,function(){i.$instance.detach();i.afterClose(t);u.resolve()})),u.promise()},chainCallbacks:function(t){for(var i in t)this[i]=n.proxy(t[i],this,n.proxy(this[i],this))}};n.extend(t,{id:0,autoBind:"[data-featherlight]",defaults:t.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(t){return t instanceof n&&t},process:function(t){return this.persist!==!1?n(t):n(t).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(t){var f=this,u=n.Deferred(),i=new Image,r=n('<img src="'+t+'" alt="" class="'+f.namespace+'-image" />');return i.onload=function(){r.naturalWidth=i.width;r.naturalHeight=i.height;u.resolve(r)},i.onerror=function(){u.reject(r)},i.src=t,u.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(t){return n(t)}},ajax:{regex:/./,process:function(t){var i=n.Deferred(),r=n("<div><\/div>").load(t,function(n,t){"error"!==t&&i.resolve(r.contents());i.fail()});return i.promise()}},iframe:{process:function(t){var i=new n.Deferred,r=n("<iframe/>").hide().attr("src",t).css(e(this,"iframe")).on("load",function(){i.resolve(r.show())}).appendTo(this.$instance.find("."+this.namespace+"-content"));return i.promise()}},text:{process:function(t){return n("<div>",{text:t})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(t,i){var u=this,f=new RegExp("^data-"+i+"-(.*)"),r={};return t&&t.attributes&&n.each(t.attributes,function(){var e=this.name.match(f),t,i;if(e){if(t=this.value,i=n.camelCase(e[1]),n.inArray(i,u.functionAttributes)>=0)t=new Function(t);else try{t=n.parseJSON(t)}catch(o){}r[i]=t}}),r},extend:function(t,i){var r=function(){this.constructor=t};return r.prototype=this.prototype,t.prototype=new r,t.__super__=this.prototype,n.extend(t,this,i),t.defaults=t.prototype,t},attach:function(t,i,r){var u=this,e,o,f;return"object"!=typeof i||i instanceof n!=!1||r||(r=i,i=void 0),r=n.extend({},r),o=r.namespace||u.defaults.namespace,f=n.extend({},u.defaults,u.readElementConfig(t[0],o),r),t.on(f.openTrigger+"."+f.namespace,f.filter,function(o){var h=n.extend({$source:t,$currentTarget:n(this)},u.readElementConfig(t[0],f.namespace),u.readElementConfig(this,f.namespace),r),s=e||n(this).data("featherlight-persisted")||new u(i,h);"shared"===s.persist?e=s:s.persist!==!1&&n(this).data("featherlight-persisted",s);h.$currentTarget.blur();s.open(o)}),t},current:function(){var n=this.opened();return n[n.length-1]||null},opened:function(){var t=this;return r(),n.grep(i,function(n){return n instanceof t})},close:function(n){var t=this.current();if(t)return t.close(n)},_onReady:function(){var t=this;t.autoBind&&(n(t.autoBind).each(function(){t.attach(n(this))}),n(document).on("click",t.autoBind,function(i){i.isDefaultPrevented()||"featherlight"===i.namespace||(i.preventDefault(),t.attach(n(i.currentTarget)),n(i.target).trigger("click.featherlight"))}))},_callbackChain:{onKeyUp:function(t,i){return 27===i.keyCode?(this.closeOnEsc&&n.featherlight.close(i),!1):t(i)},onResize:function(n,t){var r,u,i;return this.$content.naturalWidth&&(r=this.$content.naturalWidth,u=this.$content.naturalHeight,this.$content.css("width","").css("height",""),i=Math.max(r/parseInt(this.$content.parent().css("width"),10),u/parseInt(this.$content.parent().css("height"),10)),i>1&&this.$content.css("width",""+r/i+"px").css("height",""+u/i+"px")),n(t)},afterContent:function(n,t){var i=n(t);return this.onResize(t),i}}});n.featherlight=t;n.fn.featherlight=function(n,i){return t.attach(this,n,i)};n(document).ready(function(){t._onReady()})}(jQuery);!function(n){function r(r){function a(i){var f=(u.gutterX,u.gutterY,u.cellH),o=u.cellW,r=n(i),h=r.find(r.attr("data-handle"));t.setDraggable(i,{handle:h[0],onStart:function(n){e.animate&&t.transition&&t.setTransition(this,"");r.css("z-index",9999).addClass("fw-float");e.onBlockDrag.call(i,n)},onDrag:function(n){var c=r.position(),t=Math.round(c.top/f),h=Math.round(c.left/o),l=Math.round(r.width()/o),a=Math.round(r.height()/f);t=Math.min(Math.max(0,t),u.limitRow-a);h=Math.min(Math.max(0,h),u.limitCol-l);s.setHoles({top:t,left:h,width:l,height:a});s.refresh();e.onBlockMove.call(i,n)},onDrop:function(t){var y=r.position(),h=Math.round(y.top/f),c=Math.round(y.left/o),p=Math.round(r.width()/o),w=Math.round(r.height()/f),l,a,b,v;for(h=Math.min(Math.max(0,h),u.limitRow-w),c=Math.min(Math.max(0,c),u.limitCol-p),r.removeClass("fw-float"),r.css({zIndex:"auto",top:h*f,left:c*o}),a=0;w>a;++a)for(l=0;p>l;++l)b=a+h+"-"+(l+c),v=u.matrix[b],v&&1!=v&&n("#"+v).removeAttr("data-position");u.holes={};r.attr({"data-width":r.width(),"data-height":r.height(),"data-position":h+"-"+c});s.refresh();e.onBlockDrop.call(i,t)}})}var o=n(r),c,s,e,u,h,l;"static"==o.css("position")&&o.css("position","relative");c=Number.MAX_VALUE;s=this;t.totalGrid+=1;e=n.extend({},t.defaultConfig);u={arguments:null,blocks:{},events:{},matrix:{},holes:{},cellW:0,cellH:0,cellS:1,filter:"",lastId:0,length:0,maxWoB:0,maxHoB:0,minWoB:c,minHoB:c,running:0,gutterX:15,gutterY:15,totalCol:0,totalRow:0,limitCol:666666,limitRow:666666,sortFunc:null,keepOrder:!1};e.runtime=u;u.totalGrid=t.totalGrid;h=document.body.style;t.transition||(null!=h.webkitTransition||null!=h.MozTransition||null!=h.msTransition||null!=h.OTransition||null!=h.transition)&&(t.transition=!0);n.extend(s,{addCustomEvent:function(n,t){var i=u.events;return n=n.toLowerCase(),!i[n]&&(i[n]=[]),t.eid=i[n].length,i[n].push(t),this},appendBlock:function(i){var r=n(i).appendTo(o),s=null,h=[];u.arguments&&(n.isFunction(u.sortFunc)&&r.sort(u.sortFunc),r.each(function(n,i){i.index=++n;s=t.loadBlock(i,e);s&&h.push(s)}),f[e.engine](h,e),t.setWallSize(u,o),u.length=r.length,r.each(function(n,i){t.showBlock(i,e);(e.draggable||i.getAttribute("data-draggable"))&&a(i)}))},appendHoles:function(n){for(var r=[].concat(n),t={},i=0;i<r.length;++i)t=r[i],u.holes[t.top+"-"+t.left+"-"+t.width+"-"+t.height]=t;return this},container:o,destroy:function(){var t=o.find(e.selector).removeAttr("id");t.each(function(t,i){$item=n(i);var r=1*$item.attr("data-width")||"",u=1*$item.attr("data-height")||"";$item.width(r).height(u).css({position:"static"})})},fillHoles:function(n){if(0==arguments.length)u.holes={};else for(var r=[].concat(n),t={},i=0;i<r.length;++i)t=r[i],delete u.holes[t.top+"-"+t.left+"-"+t.width+"-"+t.height];return this},filter:function(n){return u.filter=n,u.arguments&&this.refresh(),this},fireEvent:function(n,t,i){var r=u.events,f;if(n=n.toLowerCase(),r[n]&&r[n].length)for(f=0;f<r[n].length;++f)r[n][f].call(this,t,i);return this},fitHeight:function(n){var n=n?n:o.height()||i.height();this.fitZone("auto",n);u.arguments=arguments},fitWidth:function(n){var n=n?n:o.width()||i.width();this.fitZone(n,"auto");u.arguments=arguments},fitZone:function(r,h){var c=o.find(e.selector).removeAttr("id"),l=null,v=[];h=h?h:o.height()||i.height();r=r?r:o.width()||i.width();u.arguments=arguments;t.resetGrid(u);t.adjustUnit(r,h,e);u.filter?(c.data("active",0),c.filter(u.filter).data("active",1)):c.data("active",1);n.isFunction(u.sortFunc)&&c.sort(u.sortFunc);c.each(function(i,r){var u=n(r);r.index=++i;l=t.loadBlock(r,e);l&&u.data("active")&&v.push(l)});s.fireEvent("onGridReady",o,e);f[e.engine](v,e);t.setWallSize(u,o);s.fireEvent("onGridArrange",o,e);u.length=c.length;c.each(function(n,i){t.showBlock(i,e);(e.draggable||i.getAttribute("data-draggable"))&&a(i)})},fixPos:function(t){return n(t.block).attr({"data-position":t.top+"-"+t.left}),this},fixSize:function(t){return null!=t.height&&n(t.block).attr({"data-height":t.height}),null!=t.width&&n(t.block).attr({"data-width":t.width}),this},prepend:function(n){return o.prepend(n),u.arguments&&this.refresh(),this},refresh:function(){var t=arguments.length?arguments:u.arguments,n=u.arguments,i=n?n.callee:this.fitWidth;return i.apply(this,Array.prototype.slice.call(t,0)),this},reset:function(t){return n.extend(e,t),this},setHoles:function(n){var i,r=[].concat(n),t={};for(u.holes={},i=0;i<r.length;++i)t=r[i],u.holes[t.top+"-"+t.left+"-"+t.width+"-"+t.height]=t;return this},sortBy:function(n){return u.sortFunc=n,u.arguments&&this.refresh(),this},unFilter:function(){return delete u.filter,this.refresh(),this}});o.attr("data-min-width",80*Math.floor(i.width()/80));for(l in t.plugin)t.plugin.hasOwnProperty(l)&&t.plugin[l].call(s,e,o);i.resize(function(){u.running||(u.running=1,setTimeout(function(){u.running=0;e.onResize.call(s,o)},122),o.attr("data-min-width",80*Math.floor(i.width()/80)))})}null==n.isNumeric&&(n.isNumeric=function(n){return null!=n&&n.constructor===Number});null==n.isFunction&&(n.isFunction=function(n){return null!=n&&n instanceof Function});var i=n(window),u=n(document),t={defaultConfig:{animate:!1,cellW:100,cellH:100,delay:0,engine:"giot",fixSize:null,gutterX:15,gutterY:15,keepOrder:!1,selector:"> div",draggable:!1,cacheSize:!0,rightToLeft:!1,bottomToTop:!1,onGapFound:function(){},onComplete:function(){},onResize:function(){},onBlockDrag:function(){},onBlockMove:function(){},onBlockDrop:function(){},onBlockReady:function(){},onBlockFinish:function(){},onBlockActive:function(){},onBlockResize:function(){}},plugin:{},totalGrid:1,transition:!1,loadBlock:function(t,i){var u=i.runtime,a=u.gutterX,v=u.gutterY,y=u.cellH,p=u.cellW,f=null,r=n(t),k=r.data("active"),l=r.attr("data-position"),s=parseInt(r.attr("data-fixSize")),d=u.lastId+++"-"+u.totalGrid,w,h,c,e,o,b;return r.hasClass("fw-float")?null:(r.attr({id:d,"data-delay":t.index}),i.animate&&this.transition&&this.setTransition(t,""),isNaN(s)&&(s=null),null==s&&(s=i.fixSize),w=s?"ceil":"round",null==r.attr("data-height")&&r.attr("data-height",r.height()),null==r.attr("data-width")&&r.attr("data-width",r.width()),h=1*r.attr("data-height"),c=1*r.attr("data-width"),i.cacheSize||(t.style.width="",c=r.width(),t.style.height="",h=r.height()),e=c?Math[w]((c+a)/p):0,o=h?Math[w]((h+v)/y):0,(s||"auto"!=i.cellH||(r.width(p*e-a),t.style.height="",h=r.height(),o=h?Math.round((h+v)/y):0),s||"auto"!=i.cellW||(r.height(y*o-v),t.style.width="",c=r.width(),e=c?Math.round((c+a)/p):0),null!=s&&(e>u.limitCol||o>u.limitRow))?f=null:(o&&o<u.minHoB&&(u.minHoB=o),e&&e<u.minWoB&&(u.minWoB=e),o>u.maxHoB&&(u.maxHoB=o),e>u.maxWoB&&(u.maxWoB=e),0==c&&(e=0),0==h&&(o=0),f={resize:!1,id:d,width:e,height:o,fixSize:s},l)&&(l=l.split("-"),f.y=1*l[0],f.x=1*l[1],f.width=null!=s?e:Math.min(e,u.limitCol-f.x),f.height=null!=s?o:Math.min(o,u.limitRow-f.y),b=f.y+"-"+f.x+"-"+f.width+"-"+f.height,k?(u.holes[b]={id:f.id,top:f.y,left:f.x,width:f.width,height:f.height},this.setBlock(f,i)):delete u.holes[b]),null==r.attr("data-state")?r.attr("data-state","init"):r.attr("data-state","move"),i.onBlockReady.call(t,f,i),l&&k?null:f)},setBlock:function(n,t){var r=t.runtime,c=r.gutterX,l=r.gutterY,e=n.height,o=n.width,s=r.cellH,h=r.cellW,u=n.x,f=n.y,i;return t.rightToLeft&&(u=r.limitCol-u-o),t.bottomToTop&&(f=r.limitRow-f-e),i={fixSize:n.fixSize,resize:n.resize,top:f*s,left:u*h,width:h*o-c,height:s*e-l},i.top=1*i.top.toFixed(2),i.left=1*i.left.toFixed(2),i.width=1*i.width.toFixed(2),i.height=1*i.height.toFixed(2),n.id&&(r.blocks[n.id]=i),i},showBlock:function(t,i){function o(){if(h&&u.attr("data-state","start"),i.animate&&f.transition&&f.setTransition(t,c),r)r.fixSize&&(r.height=1*u.attr("data-height"),r.width=1*u.attr("data-width")),u.css({opacity:1,width:r.width,height:r.height}),u[s]({top:r.top,left:r.left}),null!=u.attr("data-nested")&&f.nestedGrid(t,i);else{var n=parseInt(t.style.height)||0,o=parseInt(t.style.width)||0,l=parseInt(t.style.left)||0,a=parseInt(t.style.top)||0;u[s]({left:l+o/2,top:a+n/2,width:0,height:0,opacity:0})}e.length-=1;i.onBlockFinish.call(t,r,i);0==e.length&&i.onComplete.call(t,r,i)}var e=i.runtime,s=i.animate&&!this.transition?"animate":"css",r=e.blocks[t.id],u=n(t),f=this,h="move"!=u.attr("data-state"),c=h?"width 0.5s, height 0.5s":"top 0.5s, left 0.5s, width 0.5s, height 0.5s, opacity 0.5s";t.delay&&clearTimeout(t.delay);u.hasClass("fw-float")||(f.setTransition(t,""),t.style.position="absolute",i.onBlockActive.call(t,r,i),r&&r.resize&&i.onBlockResize.call(t,r,i),i.delay>0?t.delay=setTimeout(o,i.delay*u.attr("data-delay")):o())},nestedGrid:function(t,i){var f,u=n(t),s=i.runtime,h=u.attr("data-gutterX")||i.gutterX,c=u.attr("data-gutterY")||i.gutterY,o=u.attr("data-method")||"fitZone",l=u.attr("data-nested")||"> div",a=u.attr("data-cellH")||i.cellH,v=u.attr("data-cellW")||i.cellW,e=s.blocks[t.id];if(e)switch(f=new r(u),f.reset({cellH:a,cellW:v,gutterX:1*h,gutterY:1*c,selector:l,cacheSize:!1}),o){case"fitHeight":f[o](e.height);break;case"fitWidth":f[o](e.width);break;case"fitZone":f[o](e.width,e.height)}},adjustBlock:function(t,i){var r=i.runtime,f=r.gutterX,e=r.gutterY,u=n("#"+t.id),o=r.cellH,s=r.cellW;"auto"==i.cellH&&(u.width(t.width*s-f),u[0].style.height="",t.height=Math.round((u.height()+e)/o))},adjustUnit:function(t,i,r){var o=r.gutterX,s=r.gutterY,u=r.runtime,f=r.cellW,e=r.cellH,h,c;(n.isFunction(f)&&(f=f(t)),f=1*f,!n.isNumeric(f)&&(f=1),n.isFunction(e)&&(e=e(i)),e=1*e,!n.isNumeric(e)&&(e=1),n.isNumeric(t))&&(1>f&&(f*=t),h=Math.max(1,Math.floor(t/f)),n.isNumeric(o)||(o=(t-h*f)/Math.max(1,h-1),o=Math.max(0,o)),h=Math.floor((t+o)/f),u.cellW=(t+o)/Math.max(h,1),u.cellS=u.cellW/f,u.gutterX=o,u.limitCol=h);n.isNumeric(i)&&(1>e&&(e*=i),c=Math.max(1,Math.floor(i/e)),n.isNumeric(s)||(s=(i-c*e)/Math.max(1,c-1),s=Math.max(0,s)),c=Math.floor((i+s)/e),u.cellH=(i+s)/Math.max(c,1),u.cellS=u.cellH/e,u.gutterY=s,u.limitRow=c);n.isNumeric(t)||(1>f&&(f=u.cellH),u.cellW=1!=f?f*u.cellS:1,u.gutterX=o,u.limitCol=666666);n.isNumeric(i)||(1>e&&(e=u.cellW),u.cellH=1!=e?e*u.cellS:1,u.gutterY=s,u.limitRow=666666);u.keepOrder=r.keepOrder},resetGrid:function(n){n.blocks={};n.length=0;n.cellH=0;n.cellW=0;n.lastId=1;n.matrix={};n.totalCol=0;n.totalRow=0},setDraggable:function(t,i){var r=!1,f={startX:0,startY:0,top:0,left:0,handle:null,onDrop:function(){},onDrag:function(){},onStart:function(){}};n(t).each(function(){function c(n){return n.stopPropagation(),n=n.originalEvent,n.touches&&(r=!0,n=n.changedTouches[0]),2!=n.button&&3!=n.which&&(t.onStart.call(o,n),t.startX=n.clientX,t.startY=n.clientY,t.top=parseInt(e.css("top"))||0,t.left=parseInt(e.css("left"))||0,u.bind("mouseup touchend",h),u.bind("mousemove touchmove",s)),!1}function s(n){n=n.originalEvent;r&&(n=n.changedTouches[0]);e.css({top:t.top-(t.startY-n.clientY),left:t.left-(t.startX-n.clientX)});t.onDrag.call(o,n)}function h(n){n=n.originalEvent;r&&(n=n.changedTouches[0]);t.onDrop.call(o,n);u.unbind("mouseup touchend",h);u.unbind("mousemove touchmove",s)}var t=n.extend({},f,i),l=t.handle||this,o=this,e=n(o),a=n(l),v=e.css("position");"absolute"!=v&&e.css("position","relative");e.find("iframe, form, input, textarea, .ignore-drag").each(function(){n(this).on("touchstart mousedown",function(n){n.stopPropagation()})});u.unbind("mouseup touchend",h);u.unbind("mousemove touchmove",s);a.unbind("mousedown touchstart").bind("mousedown touchstart",c)})},setTransition:function(t,i){var r=t.style,u=n(t);!this.transition&&u.stop?u.stop():null!=r.webkitTransition?r.webkitTransition=i:null!=r.MozTransition?r.MozTransition=i:null!=r.msTransition?r.msTransition=i:null!=r.OTransition?r.OTransition=i:r.transition=i},getFreeArea:function(n,t,i){for(var r,o=Math.min(n+i.maxHoB,i.limitRow),s=Math.min(t+i.maxWoB,i.limitCol),f=s,e=o,h=i.matrix,u=n;e>u;++u)for(r=t;s>r;++r)h[u+"-"+r]&&r>t&&f>r&&(f=r);for(u=n;o>u;++u)for(r=t;f>r;++r)h[u+"-"+r]&&u>n&&e>u&&(e=u);return{top:n,left:t,width:f-t,height:e-n}},setWallSize:function(n,t){var i=n.totalRow,r=n.totalCol,f=n.gutterY,e=n.gutterX,o=n.cellH,s=n.cellW,h=Math.max(0,s*r-e),u=Math.max(0,o*i-f);t.attr({"data-total-col":r,"data-total-row":i,"data-wall-width":Math.ceil(h),"data-wall-height":Math.ceil(u)});n.limitCol<n.limitRow&&!t.attr("data-height")&&t.height(Math.ceil(u))}},f={giot:function(n,i){function k(n,t,i,r,u){for(var e,f=t;t+u>f;){for(e=i;i+r>e;)a[f+"-"+e]=n,++e>nt&&(nt=e);++f>tt&&(tt=f)}}var e=i.runtime,d=e.limitRow,g=e.limitCol,s=0,h=0,nt=e.totalCol,tt=e.totalRow,it={},l=e.holes,u=null,a=e.matrix,rt=Math.max(g,d),o=null,c=null,v=d>g?1:0,r=null,ut=Math.min(g,d),w,b,f,p,y;for(f in l)l.hasOwnProperty(f)&&k(l[f].id||!0,l[f].top,l[f].left,l[f].width,l[f].height);for(w=0;rt>w&&n.length;++w)for(v?h=w:s=w,r=null,b=0;ut>b&&n.length;++b)if(u=null,v?s=b:h=b,!e.matrix[h+"-"+s]){if(o=t.getFreeArea(h,s,e),null==i.fixSize){if(r&&!v&&e.minHoB>o.height){r.height+=o.height;r.resize=!0;k(r.id,r.y,r.x,r.width,r.height);t.setBlock(r,i);continue}if(r&&v&&e.minWoB>o.width){r.width+=o.width;r.resize=!0;k(r.id,r.y,r.x,r.width,r.height);t.setBlock(r,i);continue}}if(e.keepOrder)u=n.shift(),u.resize=!0;else{for(f=0;f<n.length;++f)if(!(n[f].height>o.height||n[f].width>o.width)){u=n.splice(f,1)[0];break}if(null==u&&null==i.fixSize)for(f=0;f<n.length;++f)if(null==n[f].fixSize){u=n.splice(f,1)[0];u.resize=!0;break}}if(null!=u)u.resize&&(v?(u.width=o.width,"auto"==i.cellH&&t.adjustBlock(u,i),u.height=Math.min(u.height,o.height)):(u.height=o.height,u.width=Math.min(u.width,o.width))),it[u.id]={id:u.id,x:s,y:h,width:u.width,height:u.height,resize:u.resize,fixSize:u.fixSize},r=it[u.id],k(r.id,r.y,r.x,r.width,r.height),t.setBlock(r,i);else{if(c={x:s,y:h,fixSize:0},v)for(c.width=o.width,c.height=0,y=s-1,p=h;a[p+"-"+y];)a[p+"-"+s]=!0,c.height+=1,p+=1;else for(c.height=o.height,c.width=0,p=h-1,y=s;a[p+"-"+y];)a[h+"-"+y]=!0,c.width+=1,y+=1;i.onGapFound(t.setBlock(c,i),i)}}e.matrix=a;e.totalRow=tt;e.totalCol=nt}};r.addConfig=function(i){n.extend(t.defaultConfig,i)};r.createEngine=function(t){n.extend(f,t)};r.createPlugin=function(i){n.extend(t.plugin,i)};r.getMethod=function(n){return t[n]};window.Freewall=window.freewall=r}(window.Zepto||window.jQuery);!function(n,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(i){return t(i,n,n.document,n.Math)}):"undefined"!=typeof exports?module.exports=t(require("jquery"),n,n.document,n.Math):t(jQuery,n,n.document,n.Math)}("undefined"!=typeof window?window:this,function(n,t,i,r,u){"use strict";var yt="fullpage-wrapper",w="."+yt,pt="fp-scrollable",v="."+pt,rt="fp-responsive",ut="fp-notransition",ft="fp-destroyed",g="fp-enabled",et="fp-viewing",o="active",k="."+o,y="fp-completely",ui="."+y,fi=".section",nt="fp-section",f="."+nt,e=f+k,ei=f+":first",oi=f+":last",wt="fp-tableCell",tt="."+wt,si="fp-auto-height",hi="fp-normal-scroll",bt="fp-nav",h="#"+bt,kt="fp-tooltip",ci="."+kt,li="fp-show-active",ai=".slide",ot="fp-slide",c="."+ot,l=c+k,dt="fp-slides",a="."+dt,st="fp-slidesContainer",ht="."+st,gt="fp-table",ni="fp-slidesNav",it="."+ni,ti=it+" a",ct="fp-controlArrow",d="."+ct,lt="fp-prev",vi="."+lt,yi=ct+" "+lt,at=d+vi,ii="fp-next",pi="."+ii,wi=ct+" "+ii,ri=d+pi,s=n(t),b=n(i),vt={scrollbars:!0,mouseWheel:!0,hideScrollbars:!1,fadeScrollbars:!1,disableMouse:!0,click:!0},p;n.fn.fullpage=function(v){function ce(){v.css3&&(v.css3=us());v.scrollBar=v.scrollBar||v.hybrid;ae();ve();ct.setAllowScrolling(!0);ct.setAutoScrolling(v.autoScrolling,"internal");var t=n(e).find(l);t.length&&(0!==n(e).index(f)||0===n(e).index(f)&&0!==t.index())&&hu(t);af();gf();"complete"===i.readyState&&of();s.on("load",of)}function le(){s.on("scroll",nf).on("hashchange",sf).blur(yo).resize(lf);b.keydown(co).keyup(ao).on("click touchstart",h+" a",po).on("click touchstart",ti,wo).on("click",ci,lo);n(f).on("click touchstart",d,vo);v.normalScrollElements&&(b.on("mouseenter",v.normalScrollElements,function(){ct.setMouseWheelScrolling(!1)}),b.on("mouseleave",v.normalScrollElements,function(){ct.setMouseWheelScrolling(!0)}))}function ae(){var t=pt.find(v.sectionSelector);v.anchors.length||(v.anchors=t.filter("[data-anchor]").map(function(){return n(this).data("anchor").toString()}).get());v.navigationTooltips.length||(v.navigationTooltips=t.filter("[data-tooltip]").map(function(){return n(this).data("tooltip").toString()}).get())}function ve(){pt.css({height:"100%",position:"relative"});pt.addClass(yt);n("html").addClass(g);pi=s.height();pt.removeClass(ft);be();n(f).each(function(t){var i=n(this),r=i.find(c),u=r.length;pe(i,t);we(i,t);u>0?ye(i,r,u):v.verticalCentered&&pf(i)});v.fixedElements&&v.css3&&n(v.fixedElements).appendTo(vi);v.navigation&&de();ge();no();v.scrollOverflow?("complete"===i.readyState&&ku(),s.on("load",ku)):gu()}function ye(t,i,r){var s=100*r,h=100/r,u;i.wrapAll('<div class="'+st+'" />');i.parent().wrap('<div class="'+dt+'" />');t.find(ht).css("width",s+"%");r>1&&(v.controlArrows&&ke(t),v.slidesNavigation&&rs(t,r));i.each(function(){n(this).css("width",h+"%");v.verticalCentered&&pf(n(this))});u=t.find(l);u.length&&(0!==n(e).index(f)||0===n(e).index(f)&&0!==u.index())?hu(u):i.eq(0).addClass(o)}function pe(t,i){i||0!==n(e).length||t.addClass(o);t.css("height",pi+"px");v.paddingTop&&t.css("padding-top",v.paddingTop);v.paddingBottom&&t.css("padding-bottom",v.paddingBottom);"undefined"!=typeof v.sectionsColor[i]&&t.css("background-color",v.sectionsColor[i]);"undefined"!=typeof v.anchors[i]&&t.attr("data-anchor",v.anchors[i])}function we(t,i){"undefined"!=typeof v.anchors[i]&&t.hasClass(o)&&ru(v.anchors[i],i);v.menu&&v.css3&&n(v.menu).closest(w).length&&n(v.menu).appendTo(vi)}function be(){n(v.sectionSelector).each(function(){n(this).addClass(nt)});n(v.slideSelector).each(function(){n(this).addClass(ot)})}function ke(n){n.find(a).after('<div class="'+yi+'"><\/div><div class="'+wi+'"><\/div>');"#fff"!=v.controlArrowColor&&(n.find(ri).css("border-color","transparent transparent transparent "+v.controlArrowColor),n.find(at).css("border-color","transparent "+v.controlArrowColor+" transparent transparent"));v.loopHorizontal||n.find(at).hide()}function de(){var u,t,s,i,r;for(vi.append('<div id="'+bt+'"><ul><\/ul><\/div>'),u=n(h),u.addClass(function(){return v.showActiveTooltip?li+" "+v.navigationPosition:v.navigationPosition}),t=0;t<n(f).length;t++)s="",v.anchors.length&&(s=v.anchors[t]),i='<li><a href="#'+s+'"><span><\/span><\/a>',r=v.navigationTooltips[t],"undefined"!=typeof r&&""!==r&&(i+='<div class="'+kt+" "+v.navigationPosition+'">'+r+"<\/div>"),i+="<\/li>",u.find("ul").append(i);n(h).css("margin-top","-"+n(h).height()/2+"px");n(h).find("li").eq(n(e).index(f)).find("a").addClass(o)}function ku(){n(f).each(function(){var t=n(this).find(c);t.length?t.each(function(){vr(n(this))}):vr(n(this))});gu()}function ge(){pt.find('iframe[src*="youtube.com/embed/"]').each(function(){var t=du(n(this).attr("src"));n(this).attr("src",n(this).attr("src")+t+"enablejsapi=1")})}function no(){pt.find('iframe[src*="player.vimeo.com/"]').each(function(){var t=du(n(this).attr("src"));n(this).attr("src",n(this).attr("src")+t+"api=1")})}function du(n){return/\?/.test(n)?"&":"?"}function gu(){var t=n(e);t.addClass(y);v.scrollOverflowHandler.afterRender&&v.scrollOverflowHandler.afterRender(t);ar(t);tu(t);n.isFunction(v.afterLoad)&&v.afterLoad.call(t,t.data("anchor"),t.index(f)+1);n.isFunction(v.afterRender)&&v.afterRender.call(pt)}function nf(){var t,b,d,g;if(!v.autoScrolling||v.scrollBar){for(var p=s.scrollTop(),nt=io(p),w=0,tt=p+s.height()/2,c=i.querySelectorAll(f),r=0;r<c.length;++r)b=c[r],b.offsetTop<=tt&&(w=r);if(to(nt)&&(n(e).hasClass(y)||n(e).addClass(y).siblings().removeClass(y)),t=n(c).eq(w),!t.hasClass(o)){wu=!0;var k=n(e),it=k.index(f)+1,rt=uu(t),u=t.data("anchor"),h=t.index(f)+1,a=t.find(l);a.length&&(d=a.data("anchor"),g=a.index());nr&&(t.addClass(o).siblings().removeClass(o),n.isFunction(v.onLeave)&&v.onLeave.call(k,it,h,rt),n.isFunction(v.afterLoad)&&v.afterLoad.call(t,u,h),ar(t),ru(u,h-1),v.anchors.length&&(ur=u,eu(g,d,u,h)));clearTimeout(yu);yu=setTimeout(function(){wu=!1},100)}v.fitToSection&&(clearTimeout(pu),pu=setTimeout(function(){nr&&v.fitToSection&&(n(e).is(t)&&(bi=!0),rr(n(e)),bi=!1)},v.fitToSectionDelay))}}function to(t){var i=n(e).position().top,r=i+s.height();return"up"==t?r>=s.scrollTop()+s.height():i<=s.scrollTop()}function io(n){var t=n>oe?"down":"up";return oe=n,t}function cr(n,t){if(ii.m[n]){var r,i;if("down"==n?(r="bottom",i=ct.moveSectionDown):(r="top",i=ct.moveSectionUp),t.length>0){if(!v.scrollOverflowHandler.isScrolled(r,t))return!0;i()}else i()}}function ro(t){var o=t.originalEvent,i,u,f;!tf(t.target)&&nu(o)&&(v.autoScrolling&&t.preventDefault(),i=n(e),u=v.scrollOverflowHandler.scrollable(i),nr&&!gi&&(f=te(o),hr=f.y,dr=f.x,i.find(a).length&&r.abs(kr-dr)>r.abs(sr-hr)?r.abs(kr-dr)>s.outerWidth()/100*v.touchSensitivity&&(kr>dr?ii.m.right&&ct.moveSlideRight():ii.m.left&&ct.moveSlideLeft()):v.autoScrolling&&r.abs(sr-hr)>s.height()/100*v.touchSensitivity&&(sr>hr?cr("down",u):hr>sr&&cr("up",u))))}function tf(t,i){i=i||0;var r=n(t).parent();return i<v.normalScrollElementTouchThreshold&&r.is(v.normalScrollElements)?!0:i==v.normalScrollElementTouchThreshold?!1:tf(r,++i)}function nu(n){return"undefined"==typeof n.pointerType||"mouse"!=n.pointerType}function uo(n){var i=n.originalEvent,t;(v.fitToSection&&di.stop(),nu(i))&&(t=te(i),sr=t.y,kr=t.x)}function rf(n,t){for(var u=0,f=n.slice(r.max(n.length-t,1)),i=0;i<f.length;i++)u+=f[i];return r.ceil(u/t)}function ir(i){var u=(new Date).getTime(),s=n(ui).hasClass(hi);if(v.autoScrolling&&!pr&&!s){i=i||t.event;var f=i.wheelDelta||-i.deltaY||-i.detail,h=r.max(-1,r.min(1,f)),c="undefined"!=typeof i.wheelDeltaX||"undefined"!=typeof i.deltaX,l=r.abs(i.wheelDeltaX)<r.abs(i.wheelDelta)||r.abs(i.deltaX)<r.abs(i.deltaY)||!c;fr.length>149&&fr.shift();fr.push(r.abs(f));v.scrollBar&&(i.preventDefault?i.preventDefault():i.returnValue=!1);var a=n(e),o=v.scrollOverflowHandler.scrollable(a),y=u-se;if(se=u,y>200&&(fr=[]),nr){var p=rf(fr,10),w=rf(fr,70),b=p>=w;b&&l&&(0>h?cr("down",o):cr("up",o))}return!1}v.fitToSection&&di.stop()}function uf(t,i){var o="undefined"==typeof i?n(e):i,f=o.find(a),s=f.find(c).length,r,u;if(!(!f.length||gi||2>s)){if(r=f.find(l),u=null,u="prev"===t?r.prev(c):r.next(c),!u.length){if(!v.loopHorizontal)return;u="prev"===t?r.siblings(":last"):r.siblings(":first")}gi=!0;er(f,u)}}function ff(){n(l).each(function(){hu(n(this),"internal")})}function fo(n){var i=n.position(),t=i.top,r=i.top>he,u=t-pi+n.outerHeight();return n.outerHeight()>pi?r||(t=u):(r||bi&&n.is(":last-child"))&&(t=u),he=t,t}function rr(t,i,r){var h,u,c,a;"undefined"!=typeof t&&(h=fo(t),u={element:t,callback:i,isMovementUp:r,dtop:h,yMovement:uu(t),anchorLink:t.data("anchor"),sectionIndex:t.index(f),activeSlide:t.find(l),activeSection:n(e),leavingSection:n(e).index(f)+1,localIsResizing:bi},u.activeSection.is(t)&&!bi||v.scrollBar&&s.scrollTop()===u.dtop&&!t.hasClass(si)||(u.activeSlide.length&&(c=u.activeSlide.data("anchor"),a=u.activeSlide.index()),v.autoScrolling&&v.continuousVertical&&"undefined"!=typeof u.isMovementUp&&(!u.isMovementUp&&"up"==u.yMovement||u.isMovementUp&&"down"==u.yMovement)&&(u=so(u)),(!n.isFunction(v.onLeave)||u.localIsResizing||v.onLeave.call(u.activeSection,u.leavingSection,u.sectionIndex+1,u.yMovement)!==!1)&&(ef(u.activeSection),t.addClass(o).siblings().removeClass(o),ar(t),v.scrollOverflowHandler.onLeave(),nr=!1,eu(a,c,u.anchorLink,u.sectionIndex),eo(u),ur=u.anchorLink,ru(u.anchorLink,u.sectionIndex))))}function eo(t){var r,i;v.css3&&v.autoScrolling&&!v.scrollBar?(r="translate3d(0px, -"+t.dtop+"px, 0px)",bf(r,!0),v.scrollingSpeed?au=setTimeout(function(){lr(t)},v.scrollingSpeed):lr(t)):(i=oo(t),n(i.element).animate(i.options,v.scrollingSpeed,v.easing).promise().done(function(){v.scrollBar?setTimeout(function(){lr(t)},30):lr(t)}))}function oo(n){var t={};return v.autoScrolling&&!v.scrollBar?(t.options={top:-n.dtop},t.element=w):(t.options={scrollTop:n.dtop},t.element="html, body"),t}function so(t){return t.isMovementUp?n(e).before(t.activeSection.nextAll(f)):n(e).after(t.activeSection.prevAll(f).get().reverse()),or(n(e).position().top),ff(),t.wrapAroundElements=t.activeSection,t.dtop=t.element.position().top,t.yMovement=uu(t.element),t}function ho(t){t.wrapAroundElements&&t.wrapAroundElements.length&&(t.isMovementUp?n(ei).before(t.wrapAroundElements):n(oi).after(t.wrapAroundElements),or(n(e).position().top),ff())}function lr(t){ho(t);t.element.find(".fp-scrollable").mouseover();n.isFunction(v.afterLoad)&&!t.localIsResizing&&v.afterLoad.call(t.element,t.anchorLink,t.sectionIndex+1);v.scrollOverflowHandler.afterLoad();tu(t.element);t.element.addClass(y).siblings().removeClass(y);nr=!0;n.isFunction(t.callback)&&t.callback.call(this)}function ar(t){var t=iu(t);t.find("img[data-src], source[data-src], audio[data-src], iframe[data-src]").each(function(){n(this).attr("src",n(this).data("src"));n(this).removeAttr("data-src");n(this).is("source")&&n(this).closest("video").get(0).load()})}function tu(t){var t=iu(t);t.find("video, audio").each(function(){var t=n(this).get(0);t.hasAttribute("data-autoplay")&&"function"==typeof t.play&&t.play()});t.find('iframe[src*="youtube.com/embed/"]').each(function(){var t=n(this).get(0);/youtube\.com\/embed\//.test(n(this).attr("src"))&&t.hasAttribute("data-autoplay")&&t.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")})}function ef(t){var t=iu(t);t.find("video, audio").each(function(){var t=n(this).get(0);t.hasAttribute("data-keepplaying")||"function"!=typeof t.pause||t.pause()});t.find('iframe[src*="youtube.com/embed/"]').each(function(){var t=n(this).get(0);/youtube\.com\/embed\//.test(n(this).attr("src"))&&!t.hasAttribute("data-keepplaying")&&n(this).get(0).contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")})}function iu(t){var i=t.find(l);return i.length&&(t=n(i)),t}function of(){var i=t.location.hash.replace("#","").split("/"),n=decodeURIComponent(i[0]),r=decodeURIComponent(i[1]);n&&(v.animateAnchor?fu(n,r):ct.silentMoveTo(n,r))}function sf(){if(!wu&&!v.lockAnchors){var r=t.location.hash.replace("#","").split("/"),n=decodeURIComponent(r[0]),i=decodeURIComponent(r[1]),u="undefined"==typeof ur,f="undefined"==typeof ur&&"undefined"==typeof i&&!gi;n.length&&(n&&n!==ur&&!u||f||!gi&&cu!=i)&&fu(n,i)}}function co(t){var i,r,u;clearTimeout(ee);i=n(":focus");i.is("textarea")||i.is("input")||i.is("select")||"true"===i.attr("contentEditable")||""===i.attr("contentEditable")||!v.keyboardScrolling||!v.autoScrolling||(r=t.which,u=[40,38,32,33,34],n.inArray(r,u)>-1&&t.preventDefault(),pr=t.ctrlKey,ee=setTimeout(function(){bo(t)},150))}function lo(){n(this).prev().trigger("click")}function ao(n){fe&&(pr=n.ctrlKey)}function hf(n){2==n.which&&(gr=n.pageY,pt.on("mousemove",ko))}function cf(n){2==n.which&&pt.off("mousemove")}function vo(){var t=n(this).closest(f);n(this).hasClass(lt)?ii.m.left&&ct.moveSlideLeft(t):ii.m.right&&ct.moveSlideRight(t)}function yo(){fe=!1;pr=!1}function po(t){t.preventDefault();var i=n(this).parent().index();rr(n(f).eq(i))}function wo(t){t.preventDefault();var i=n(this).closest(f).find(a),r=i.find(c).eq(n(this).closest("li").index());er(i,r)}function bo(t){var i=t.shiftKey;switch(t.which){case 38:case 33:ii.k.up&&ct.moveSectionUp();break;case 32:if(i&&ii.k.up){ct.moveSectionUp();break}case 40:case 34:ii.k.down&&ct.moveSectionDown();break;case 36:ii.k.up&&ct.moveTo(1);break;case 35:ii.k.down&&ct.moveTo(n(f).length);break;case 37:ii.k.left&&ct.moveSlideLeft();break;case 39:ii.k.right&&ct.moveSlideRight();break;default:return}}function ko(n){nr&&(n.pageY<gr&&ii.m.up?ct.moveSectionUp():n.pageY>gr&&ii.m.down&&ct.moveSectionDown());gr=n.pageY}function er(t,i){var b=i.position(),e=i.index(),u=t.closest(f),s=u.index(f),h=u.data("anchor"),d=u.find(it),g=su(i),c=u.find(l),a=bi,y,p,w,nt;if(v.onSlideLeave&&(y=c.index(),p=ts(y,e),!a&&"none"!==p&&n.isFunction(v.onSlideLeave)&&v.onSlideLeave.call(c,h,s+1,y,p,e)===!1))return void(gi=!1);ef(c);i.addClass(o).siblings().removeClass(o);a||ar(i);!v.loopHorizontal&&v.controlArrows&&(u.find(at).toggle(0!==e),u.find(ri).toggle(!i.is(":last-child")));u.hasClass(o)&&eu(e,g,h,s);w=function(){a||n.isFunction(v.afterSlideLoad)&&v.afterSlideLoad.call(i,h,s+1,g,e);tu(i);gi=!1};v.css3?(nt="translate3d(-"+r.round(b.left)+"px, 0px, 0px)",vf(t.find(ht),v.scrollingSpeed>0).css(ie(nt)),vu=setTimeout(function(){w()},v.scrollingSpeed,v.easing)):t.animate({scrollLeft:r.round(b.left)},v.scrollingSpeed,v.easing,function(){w()});d.find(k).removeClass(o);d.find("li").eq(e).find("a").addClass(o)}function lf(){var t,u;(af(),wr)?(t=n(i.activeElement),t.is("textarea")||t.is("input")||t.is("select")||(u=s.height(),r.abs(u-bu)>r.max(bu,u)/5&&(ct.reBuild(!0),bu=u))):(clearTimeout(lu),lu=setTimeout(function(){ct.reBuild(!0)},350))}function af(){var n=v.responsive||v.responsiveWidth,t=v.responsiveHeight,i=n&&s.outerWidth()<n,r=t&&s.height()<t;n&&t?ct.setResponsive(i||r):n?ct.setResponsive(i):t&&ct.setResponsive(r)}function vf(n){var t="all "+v.scrollingSpeed+"ms "+v.easingcss3;return n.removeClass(ut),n.css({"-webkit-transition":t,transition:t})}function yf(n){return n.addClass(ut)}function go(t,i){v.navigation&&(n(h).find(k).removeClass(o),t?n(h).find('a[href="#'+t+'"]').addClass(o):n(h).find("li").eq(i).find("a").addClass(o))}function ns(t){v.menu&&(n(v.menu).find(k).removeClass(o),n(v.menu).find('[data-menuanchor="'+t+'"]').addClass(o))}function ru(n,t){ns(n);go(n,t)}function uu(t){var i=n(e).index(f),r=t.index(f);return i==r?"none":i>r?"up":"down"}function ts(n,t){return n==t?"none":n>t?"left":"right"}function vr(n){var r;if(!n.hasClass("fp-noscroll")){n.css("overflow","hidden");var i,t=v.scrollOverflowHandler,u=t.wrapContent(),e=n.closest(f),o=t.scrollable(n);o.length?i=t.scrollHeight(n):(i=n.get(0).scrollHeight,v.verticalCentered&&(i=n.find(tt).get(0).scrollHeight));r=pi-parseInt(e.css("padding-bottom"))-parseInt(e.css("padding-top"));i>r?o.length?t.update(n,r):(v.verticalCentered?n.find(tt).wrapInner(u):n.wrapInner(u),t.create(n,r)):t.remove(n);n.css("overflow","")}}function pf(n){n.addClass(gt).wrapInner('<div class="'+wt+'" style="height:'+wf(n)+'px;" />')}function wf(n){var i=pi,t,r;return(v.paddingTop||v.paddingBottom)&&(t=n,t.hasClass(nt)||(t=n.closest(f)),r=parseInt(t.css("padding-top"))+parseInt(t.css("padding-bottom")),i=pi-r),i}function bf(n,t){t?vf(pt):yf(pt);pt.css(ie(n));setTimeout(function(){pt.removeClass(ut)},10)}function kf(t){var i=pt.find(f+'[data-anchor="'+t+'"]');return i.length||(i=n(f).eq(t-1)),i}function is(n,t){var r=t.find(a),i=r.find(c+'[data-anchor="'+n+'"]');return i.length||(i=r.find(c).eq(n)),i}function fu(n,t){var i=kf(n);"undefined"==typeof t&&(t=0);n===ur||i.hasClass(o)?df(i,t):rr(i,function(){df(i,t)})}function df(n,t){if("undefined"!=typeof t){var r=n.find(a),i=is(t,n);i.length&&er(r,i)}}function rs(n,t){var i,r;for(n.append('<div class="'+ni+'"><ul><\/ul><\/div>'),i=n.find(it),i.addClass(v.slidesNavPosition),r=0;t>r;r++)i.find("ul").append('<li><a href="#"><span><\/span><\/a><\/li>');i.css("margin-left","-"+i.width()/2+"px");i.find("li").first().find("a").addClass(o)}function eu(n,t,i){var r="";v.anchors.length&&!v.lockAnchors&&(n?("undefined"!=typeof i&&(r=i),"undefined"==typeof t&&(t=n),cu=t,ou(r+"/"+t)):"undefined"!=typeof n?(cu=t,ou(i)):ou(i));gf()}function ou(n){if(v.recordHistory)location.hash=n;else if(wr||br)t.history.replaceState(u,u,"#"+n);else{var i=t.location.href.split("#")[0];t.location.replace(i+"#"+n)}}function su(n){var t=n.data("anchor"),i=n.index();return"undefined"==typeof t&&(t=i),t}function gf(){var i=n(e),r=i.find(l),f=su(i),o=su(r),t=String(f),u;r.length&&(t=t+"-"+o);t=t.replace("/","-").replace("#","");u=new RegExp("\\b\\s?"+et+"-[^\\s]+\\b","g");vi[0].className=vi[0].className.replace(u,"");vi.addClass(et+"-"+t)}function us(){var r,n=i.createElement("p"),e={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"},f;i.body.insertBefore(n,null);for(f in e)n.style[f]!==u&&(n.style[f]="translate3d(1px,1px,1px)",r=t.getComputedStyle(n).getPropertyValue(e[f]));return i.body.removeChild(n),r!==u&&r.length>0&&"none"!==r}function fs(){i.addEventListener?(i.removeEventListener("mousewheel",ir,!1),i.removeEventListener("wheel",ir,!1),i.removeEventListener("MozMousePixelScroll",ir,!1)):i.detachEvent("onmousewheel",ir)}function es(){var n,r="",f;t.addEventListener?n="addEventListener":(n="attachEvent",r="on");f="onwheel"in i.createElement("div")?"wheel":i.onmousewheel!==u?"mousewheel":"DOMMouseScroll";"DOMMouseScroll"==f?i[n](r+"MozMousePixelScroll",ir,!1):i[n](r+f,ir,!1)}function os(){pt.on("mousedown",hf).on("mouseup",cf)}function ss(){pt.off("mousedown",hf).off("mouseup",cf)}function hs(){if(wr||br){var t=ne();n(w).off("touchstart "+t.down).on("touchstart "+t.down,uo);n(w).off("touchmove "+t.move).on("touchmove "+t.move,ro)}}function cs(){if(wr||br){var t=ne();n(w).off("touchstart "+t.down);n(w).off("touchmove "+t.move)}}function ne(){return t.PointerEvent?{down:"pointerdown",move:"pointermove"}:{down:"MSPointerDown",move:"MSPointerMove"}}function te(n){var t=[];return t.y="undefined"!=typeof n.pageY&&(n.pageY||n.pageX)?n.pageY:n.touches[0].pageY,t.x="undefined"!=typeof n.pageX&&(n.pageY||n.pageX)?n.pageX:n.touches[0].pageX,br&&nu(n)&&v.scrollBar&&(t.y=n.touches[0].pageY,t.x=n.touches[0].pageX),t}function hu(n,t){ct.setScrollingSpeed(0,"internal");"undefined"!=typeof t&&(bi=!0);er(n.closest(a),n);"undefined"!=typeof t&&(bi=!1);ct.setScrollingSpeed(tr.scrollingSpeed,"internal")}function or(n){if(v.scrollBar)pt.scrollTop(n);else if(v.css3){var t="translate3d(0px, -"+n+"px, 0px)";bf(t,!1)}else pt.css("top",-n)}function ie(n){return{"-webkit-transform":n,"-moz-transform":n,"-ms-transform":n,transform:n}}function re(n,t,i){switch(t){case"up":ii[i].up=n;break;case"down":ii[i].down=n;break;case"left":ii[i].left=n;break;case"right":ii[i].right=n;break;case"all":"m"==i?ct.setAllowScrolling(n):ct.setKeyboardScrolling(n)}}function ls(){or(0);n(h+", "+it+", "+d).remove();n(f).css({height:"","background-color":"",padding:""});n(c).css({width:""});pt.css({height:"",position:"","-ms-touch-action":"","touch-action":""});di.css({overflow:"",height:""});n("html").removeClass(g);n.each(vi.get(0).className.split(/\s+/),function(n,t){0===t.indexOf(et)&&vi.removeClass(t)});n(f+", "+c).each(function(){v.scrollOverflowHandler.remove(n(this));n(this).removeClass(gt+" "+o)});yf(pt);pt.find(tt+", "+ht+", "+a).each(function(){n(this).replaceWith(this.childNodes)});di.scrollTop(0);var t=[nt,ot,st];n.each(t,function(t,i){n("."+i).removeClass(i)})}function yr(n,t,i){v[n]=t;"internal"!==i&&(tr[n]=t)}function ue(){return n("html").hasClass(g)?void ki("error","Fullpage.js can only be initialized once and you are doing it multiple times!"):(v.continuousVertical&&(v.loopTop||v.loopBottom)&&(v.continuousVertical=!1,ki("warn","Option `loopTop/loopBottom` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),v.scrollBar&&v.scrollOverflow&&ki("warn","Option `scrollBar` is mutually exclusive with `scrollOverflow`. Sections with scrollOverflow might not work well in Firefox"),v.continuousVertical&&v.scrollBar&&(v.continuousVertical=!1,ki("warn","Option `scrollBar` is mutually exclusive with `continuousVertical`; `continuousVertical` disabled")),void n.each(v.anchors,function(t,i){var r=b.find("[name]").filter(function(){return n(this).attr("name")&&n(this).attr("name").toLowerCase()==i.toLowerCase()}),u=b.find("[id]").filter(function(){return n(this).attr("id")&&n(this).attr("id").toLowerCase()==i.toLowerCase()});(u.length||r.length)&&(ki("error","data-anchor tags can not have the same value as any `id` element on the site (or `name` element for IE)."),u.length&&ki("error",'"'+i+'" is is being used by another element `id` property'),r.length&&ki("error",'"'+i+'" is is being used by another element `name` property'))}))}function ki(n,t){console&&console[n]&&console[n]("fullPage: "+t)}var lu,au,vu,yu,pu,ee,tr;if(n("html").hasClass(g))return void ue();var di=n("html, body"),vi=n("body"),ct=n.fn.fullpage;v=n.extend({menu:!1,anchors:[],lockAnchors:!1,navigation:!1,navigationPosition:"right",navigationTooltips:[],showActiveTooltip:!1,slidesNavigation:!1,slidesNavPosition:"bottom",scrollBar:!1,hybrid:!1,css3:!0,scrollingSpeed:700,autoScrolling:!0,fitToSection:!0,fitToSectionDelay:1e3,easing:"easeInOutCubic",easingcss3:"ease",loopBottom:!1,loopTop:!1,loopHorizontal:!0,continuousVertical:!1,normalScrollElements:null,scrollOverflow:!1,scrollOverflowHandler:p,scrollOverflowOptions:null,touchSensitivity:5,normalScrollElementTouchThreshold:5,keyboardScrolling:!0,animateAnchor:!0,recordHistory:!0,controlArrows:!0,controlArrowColor:"#fff",verticalCentered:!0,sectionsColor:[],paddingTop:0,paddingBottom:0,fixedElements:null,responsive:0,responsiveWidth:0,responsiveHeight:0,sectionSelector:fi,slideSelector:ai,afterLoad:null,onLeave:null,afterRender:null,afterResize:null,afterReBuild:null,afterSlideLoad:null,onSlideLeave:null},v);ue();vt=n.extend(vt,v.scrollOverflowOptions);n.extend(n.easing,{easeInOutCubic:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i}});ct.setAutoScrolling=function(t,i){yr("autoScrolling",t,i);var r=n(e);v.autoScrolling&&!v.scrollBar?(di.css({overflow:"hidden",height:"100%"}),ct.setRecordHistory(tr.recordHistory,"internal"),pt.css({"-ms-touch-action":"none","touch-action":"none"}),r.length&&or(r.position().top)):(di.css({overflow:"visible",height:"initial"}),ct.setRecordHistory(!1,"internal"),pt.css({"-ms-touch-action":"","touch-action":""}),or(0),r.length&&di.scrollTop(r.position().top))};ct.setRecordHistory=function(n,t){yr("recordHistory",n,t)};ct.setScrollingSpeed=function(n,t){yr("scrollingSpeed",n,t)};ct.setFitToSection=function(n,t){yr("fitToSection",n,t)};ct.setLockAnchors=function(n){v.lockAnchors=n};ct.setMouseWheelScrolling=function(n){n?(es(),os()):(fs(),ss())};ct.setAllowScrolling=function(t,i){"undefined"!=typeof i?(i=i.replace(/ /g,"").split(","),n.each(i,function(n,i){re(t,i,"m")})):t?(ct.setMouseWheelScrolling(!0),hs()):(ct.setMouseWheelScrolling(!1),cs())};ct.setKeyboardScrolling=function(t,i){"undefined"!=typeof i?(i=i.replace(/ /g,"").split(","),n.each(i,function(n,i){re(t,i,"k")})):v.keyboardScrolling=t};ct.moveSectionUp=function(){var t=n(e).prev(f);!t.length&&(v.loopTop||v.continuousVertical)&&(t=n(f).last());t.length&&rr(t,null,!0)};ct.moveSectionDown=function(){var t=n(e).next(f);!t.length&&(v.loopBottom||v.continuousVertical)&&(t=n(f).first());t.length&&rr(t,null,!1)};ct.silentMoveTo=function(n,t){ct.setScrollingSpeed(0,"internal");ct.moveTo(n,t);ct.setScrollingSpeed(tr.scrollingSpeed,"internal")};ct.moveTo=function(n,t){var i=kf(n);"undefined"!=typeof t?fu(n,t):i.length>0&&rr(i)};ct.moveSlideRight=function(n){uf("next",n)};ct.moveSlideLeft=function(n){uf("prev",n)};ct.reBuild=function(t){if(!pt.hasClass(ft)){bi=!0;pi=s.height();n(f).each(function(){var i=n(this).find(a),t=n(this).find(c);v.verticalCentered&&n(this).find(tt).css("height",wf(n(this))+"px");n(this).css("height",pi+"px");v.scrollOverflow&&(t.length?t.each(function(){vr(n(this))}):vr(n(this)));t.length>1&&er(i,i.find(l))});var r=n(e),i=r.index(f);i&&ct.silentMoveTo(i+1);bi=!1;n.isFunction(v.afterResize)&&t&&v.afterResize.call(pt);n.isFunction(v.afterReBuild)&&!t&&v.afterReBuild.call(pt)}};ct.setResponsive=function(t){var i=vi.hasClass(rt);t?i||(ct.setAutoScrolling(!1,"internal"),ct.setFitToSection(!1,"internal"),n(h).hide(),vi.addClass(rt)):i&&(ct.setAutoScrolling(tr.autoScrolling,"internal"),ct.setFitToSection(tr.autoScrolling,"internal"),n(h).show(),vi.removeClass(rt))};var ur,cu,pr,gi=!1,wr=navigator.userAgent.match(/(iPhone|iPod|iPad|Android|playbook|silk|BlackBerry|BB10|Windows Phone|Tizen|Bada|webOS|IEMobile|Opera Mini)/),br="ontouchstart"in t||navigator.msMaxTouchPoints>0||navigator.maxTouchPoints,pt=n(this),pi=s.height(),bi=!1,fe=!0,nr=!0,fr=[],ii={};ii.m={up:!0,down:!0,left:!0,right:!0};ii.k=n.extend(!0,{},ii.m);tr=n.extend(!0,{},v);n(this).length&&(ce(),le());var wu=!1,oe=0,sr=0,kr=0,hr=0,dr=0,se=(new Date).getTime(),he=0,gr=0,bu=pi;ct.destroy=function(t){ct.setAutoScrolling(!1,"internal");ct.setAllowScrolling(!1);ct.setKeyboardScrolling(!1);pt.addClass(ft);clearTimeout(vu);clearTimeout(au);clearTimeout(lu);clearTimeout(yu);clearTimeout(pu);s.off("scroll",nf).off("hashchange",sf).off("resize",lf);b.off("click",h+" a").off("mouseenter",h+" li").off("mouseleave",h+" li").off("click",ti).off("mouseover",v.normalScrollElements).off("mouseout",v.normalScrollElements);n(f).off("click",d);clearTimeout(vu);clearTimeout(au);t&&ls()}};"undefined"!=typeof IScroll&&(IScroll.prototype.wheelOn=function(){this.wrapper.addEventListener("wheel",this);this.wrapper.addEventListener("mousewheel",this);this.wrapper.addEventListener("DOMMouseScroll",this)},IScroll.prototype.wheelOff=function(){this.wrapper.removeEventListener("wheel",this);this.wrapper.removeEventListener("mousewheel",this);this.wrapper.removeEventListener("DOMMouseScroll",this)});p={refreshId:null,iScrollInstances:[],onLeave:function(){var t=n(e).find(v).data("iscrollInstance");"undefined"!=typeof t&&t&&t.wheelOff()},afterLoad:function(){var t=n(e).find(v).data("iscrollInstance");"undefined"!=typeof t&&t&&t.wheelOn()},create:function(t,i){var r=t.find(v);r.height(i);r.each(function(){var i=jQuery(this),t=i.data("iscrollInstance");t&&n.each(p.iScrollInstances,function(){n(this).destroy()});t=new IScroll(i.get(0),vt);p.iScrollInstances.push(t);i.data("iscrollInstance",t)})},isScrolled:function(n,t){var i=t.data("iscrollInstance");return i?"top"===n?i.y>=0&&!t.scrollTop():"bottom"===n?0-i.y+t.scrollTop()+1+t.innerHeight()>=t[0].scrollHeight:void 0:!1},scrollable:function(n){return n.find(a).length?n.find(l).find(v):n.find(v)},scrollHeight:function(n){return n.find(v).children().first().get(0).scrollHeight},remove:function(n){var t=n.find(v),i;t.length&&(i=t.data("iscrollInstance"),i.destroy(),t.data("iscrollInstance","undefined"));n.find(v).children().first().children().first().unwrap().unwrap()},update:function(t,i){clearTimeout(p.refreshId);p.refreshId=setTimeout(function(){n.each(p.iScrollInstances,function(){n(this).get(0).refresh()})},150);t.find(v).css("height",i+"px").parent().css("height",i+"px")},wrapContent:function(){return'<div class="'+pt+'"><div class="fp-scroller"><\/div><\/div>'}}});!function(n){"use strict";function f(t,i,r){"addEventListener"in n?t.addEventListener(i,r,!1):"attachEvent"in n&&t.attachEvent("on"+i,r)}function vt(t,i,r){"removeEventListener"in n?t.removeEventListener(i,r,!1):"detachEvent"in n&&t.detachEvent("on"+i,r)}function yt(){for(var r=["moz","webkit","o","ms"],t=0;t<r.length&&!o;t+=1)o=n[r[t]+"RequestAnimationFrame"];o||i("setup","RequestAnimationFrame not supported")}function pt(t){var i="Host page: "+t;return n.top!==n.self&&(i=n.parentIFrame&&n.parentIFrame.getId?n.parentIFrame.getId()+": "+t:"Nested host page: "+t),i}function wt(n){return h+"["+pt(n)+"]"}function b(n){return t[n]?t[n].log:lt}function i(n,t){l("log",n,t,b(n))}function k(n,t){l("info",n,t,b(n))}function e(n,t){l("warn",n,t,!0)}function l(t,i,r,u){!0===u&&"object"==typeof n.console&&console[t](wt(i),r)}function bt(o){function p(){function n(){ut(l);tt(c)}b("Height");b("Width");ft(n,l,"init")}function at(){var n=a.substr(y).split(":");return{iframe:t[n[0]].iframe,id:n[0],height:n[1],width:n[2],type:n[3]}}function b(n){var f=Number(t[c]["max"+n]),e=Number(t[c]["min"+n]),r=n.toLowerCase(),u=Number(l[r]);i(c,"Checking "+r+" is in range "+e+"-"+f);e>u&&(u=e,i(c,"Set "+r+" to min value"));u>f&&(u=f,i(c,"Set "+r+" to max value"));l[r]=""+u}function yt(){function u(){function u(){var t=0,u=!1;for(i(c,"Checking connection is from allowed list of origins: "+n);t<n.length;t++)if(n[t]===r){u=!0;break}return u}function f(){var n=t[c].remoteHost;return i(c,"Checking connection is from: "+n),r===n}return n.constructor===Array?u():f()}var r=o.origin,n=t[c].checkOrigin;if(n&&""+r!="null"&&!u())throw new Error("Unexpected message received from: "+r+" for "+l.iframe.id+". Message was: "+o.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function pt(){return h===(""+a).substr(0,y)&&a.substr(y).split(":")[0]in t}function wt(){var n=l.type in{"true":1,"false":1,undefined:1};return n&&i(c,"Ignoring init message from meta parent page"),n}function ot(n){return a.substr(a.indexOf(":")+ni+n)}function bt(n){i(c,"MessageCallback passed: {iframe: "+l.iframe.id+", message: "+n+"}");v("messageCallback",{iframe:l.iframe,message:JSON.parse(n)});i(c,"--")}function kt(){var i=document.body.getBoundingClientRect(),t=l.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:t.height,iframeWidth:t.width,clientHeight:Math.max(document.documentElement.clientHeight,n.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,n.innerWidth||0),offsetTop:parseInt(t.top-i.top,10),offsetLeft:parseInt(t.left-i.left,10),scrollTop:n.pageYOffset,scrollLeft:n.pageXOffset})}function st(n,t){function i(){u("Send Page Info","pageInfo:"+kt(),n,t)}s(i,32)}function dt(){function u(u,f){function o(){t[r]?st(t[r].iframe,r):e()}["scroll","resize"].forEach(function(t){i(r,u+t+" listener for sendPageInfo");f(n,t,o)})}function e(){u("Remove ",vt)}function o(){u("Add ",f)}var r=c;o();t[r].stopPageInfo=e}function gt(){t[c]&&t[c].stopPageInfo&&(t[c].stopPageInfo(),delete t[c].stopPageInfo)}function ti(){var n=!0;return null===l.iframe&&(e(c,"IFrame ("+l.id+") not found"),n=!1),n}function ht(n){var t=n.getBoundingClientRect();return nt(c),{x:Math.floor(Number(t.left)+Number(r.x)),y:Math.floor(Number(t.top)+Number(r.y))}}function ct(t){function o(){r=f;lt();i(c,"--")}function s(){return{x:Number(l.width)+u.x,y:Number(l.height)+u.y}}function h(){n.parentIFrame?n.parentIFrame["scrollTo"+(t?"Offset":"")](f.x,f.y):e(c,"Unable to scroll to requested position, window.parentIFrame not found")}var u=t?ht(l.iframe):{x:0,y:0},f=s();i(c,"Reposition requested from iFrame (offset x:"+u.x+" y:"+u.y+")");n.top!==n.self?h():o()}function lt(){!1!==v("scrollCallback",r)?tt(c):it()}function ii(t){function o(){var n=ht(e);i(c,"Moving to in page link (#"+u+") at x: "+n.x+" y: "+n.y);r={x:n.x,y:n.y};lt();i(c,"--")}function s(){n.parentIFrame?n.parentIFrame.moveToAnchor(u):i(c,"In page link #"+u+" not found and window.parentIFrame not found")}var u=t.split("#")[1]||"",f=decodeURIComponent(u),e=document.getElementById(f)||document.getElementsByName(f)[0];e?o():n.top!==n.self?s():i(c,"In page link #"+u+" not found")}function v(n,t){return d(c,n,t)}function ri(){switch(t[c].firstRun&&ei(),l.type){case"close":g(l.iframe);break;case"message":bt(ot(6));break;case"scrollTo":ct(!1);break;case"scrollToOffset":ct(!0);break;case"pageInfo":st(t[c].iframe,c);dt();break;case"pageInfoStop":gt();break;case"inPageLink":ii(ot(9));break;case"reset":rt(l);break;case"init":p();v("initCallback",l.iframe);v("resizedCallback",l);break;default:p();v("resizedCallback",l)}}function ui(n){var i=!0;return t[n]||(i=!1,e(l.type+" No settings for "+n+". Message was: "+a)),i}function fi(){for(var n in t)u("iFrame requested init",et(n),document.getElementById(n),n)}function ei(){t[c].firstRun=!1}var a=o.data,l={},c=null;"[iFrameResizerChild]Ready"===a?fi():pt()?(l=at(),c=w=l.id,!wt()&&ui(c)&&(i(c,"Received: "+a),ti()&&yt()&&ri())):k(c,"Ignored: "+a)}function d(n,i,r){var u=null,f=null;if(t[n]){if(u=t[n][i],"function"!=typeof u)throw new TypeError(i+" on iFrame["+n+"] is not a function");f=u(r)}return f}function g(n){var r=n.id;i(r,"Removing iFrame: "+r);n.parentNode&&n.parentNode.removeChild(n);d(r,"closedCallback",r);i(r,"--");delete t[r]}function nt(t){null===r&&(r={x:void 0!==n.pageXOffset?n.pageXOffset:document.documentElement.scrollLeft,y:void 0!==n.pageYOffset?n.pageYOffset:document.documentElement.scrollTop},i(t,"Get page position: "+r.x+","+r.y))}function tt(t){null!==r&&(n.scrollTo(r.x,r.y),i(t,"Set page position: "+r.x+","+r.y),it())}function it(){r=null}function rt(n){function t(){ut(n);u("reset","reset",n.iframe,n.id)}i(n.id,"Size reset requested by "+("init"===n.type?"host page":"iFrame"));nt(n.id);ft(t,n,"reset")}function ut(n){function f(t){n.iframe.style[t]=n[t]+"px";i(n.id,"IFrame ("+r+") "+t+" set to "+n[t]+"px")}function e(t){at||"0"!==n[t]||(at=!0,i(r,"Hidden iFrame detected, creating visibility listener"),kt())}function u(n){f(n);e(n)}var r=n.iframe.id;t[r]&&(t[r].sizeHeight&&u("height"),t[r].sizeWidth&&u("width"))}function ft(n,t,r){r!==t.type&&o?(i(t.id,"Requesting animation frame"),o(n)):n()}function u(n,r,u,f){function o(){var e=t[f].targetOrigin;i(f,"["+n+"] Sending msg to iframe["+f+"] ("+r+") targetOrigin: "+e);u.contentWindow.postMessage(h+r,e)}function s(){e(f,"["+n+"] IFrame("+f+") not found")}function c(){u&&"contentWindow"in u&&null!==u.contentWindow?o():s()}f=f||u.id;t[f]&&c()}function et(n){return n+":"+t[n].bodyMarginV1+":"+t[n].sizeWidth+":"+t[n].log+":"+t[n].interval+":"+t[n].enablePublicMethods+":"+t[n].autoResize+":"+t[n].bodyMargin+":"+t[n].heightCalculationMethod+":"+t[n].bodyBackground+":"+t[n].bodyPadding+":"+t[n].tolerance+":"+t[n].inPageLinks+":"+t[n].resizeFrom+":"+t[n].widthCalculationMethod}function ot(n,r){function s(){function r(r){1/0!==t[o][r]&&0!==t[o][r]&&(n.style[r]=t[o][r]+"px",i(o,"Set "+r+" = "+t[o][r]+"px"))}function u(n){if(t[o]["min"+n]>t[o]["max"+n])throw new Error("Value for min"+n+" can not be greater than max"+n);}u("Height");u("Width");r("maxHeight");r("minHeight");r("maxWidth");r("minWidth")}function h(){var n=r&&r.id||c.id+ct++;return null!==document.getElementById(n)&&(n+=ct++),n}function l(t){return w=t,""===t&&(n.id=t=h(),lt=(r||{}).log,w=t,i(t,"Added missing iframe ID: "+t+" ("+n.src+")")),t}function a(){switch(i(o,"IFrame scrolling "+(t[o].scrolling?"enabled":"disabled")+" for "+o),n.style.overflow=!1===t[o].scrolling?"hidden":"auto",t[o].scrolling){case!0:n.scrolling="yes";break;case!1:n.scrolling="no";break;default:n.scrolling=t[o].scrolling}}function v(){("number"==typeof t[o].bodyMargin||"0"===t[o].bodyMargin)&&(t[o].bodyMarginV1=t[o].bodyMargin,t[o].bodyMargin=""+t[o].bodyMargin+"px")}function y(){var i=t[o].firstRun,r=t[o].heightCalculationMethod in ti;!i&&r&&rt({iframe:n,height:0,width:0,type:"init"})}function p(){Function.prototype.bind&&(t[o].iframe.iFrameResizer={close:g.bind(null,t[o].iframe),resize:u.bind(null,"Window resize","resize",t[o].iframe),moveToAnchor:function(n){u("Move to anchor","moveToAnchor:"+n,t[o].iframe,o)},sendMessage:function(n){n=JSON.stringify(n);u("Send Message","message:"+n,t[o].iframe,o)}})}function b(t){function i(){u("iFrame.onload",t,n);y()}f(n,"load",i);u("init",t,n)}function k(n){if("object"!=typeof n)throw new TypeError("Options is not an object");}function d(n){for(var i in c)c.hasOwnProperty(i)&&(t[o][i]=n.hasOwnProperty(i)?n[i]:c[i])}function nt(n){return""===n||"file://"===n?"*":n}function tt(i){i=i||{};t[o]={firstRun:!0,iframe:n,remoteHost:n.src.split("/").slice(0,3).join("/")};k(i);d(i);t[o].targetOrigin=!0===t[o].checkOrigin?nt(t[o].remoteHost):"*"}function it(){return o in t&&"iFrameResizer"in n}var o=l(n.id);it()?e(o,"Ignored iFrame, already setup."):(tt(r),a(),s(),v(),b(et(o)),p())}function s(n,t){null===p&&(p=setTimeout(function(){p=null;n()},t))}function kt(){function f(){function n(n){function i(i){return"0px"===t[n].iframe.style[i]}function r(n){return null!==n.offsetParent}r(t[n].iframe)&&(i("height")||i("width"))&&u("Visibility change","resize",t[n].iframe,n)}for(var i in t)n(i)}function e(n){i("window","Mutation observed: "+n[0].target+" "+n[0].type);s(f,16)}function o(){var n=document.querySelector("body"),t=new r(e);t.observe(n,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}var r=n.MutationObserver||n.WebKitMutationObserver;r&&o()}function a(n){function t(){ht("Window "+n,"resize")}i("window","Trigger event: "+n);s(t,16)}function st(){function n(){ht("Tab Visable","resize")}"hidden"!==document.visibilityState&&(i("document","Trigger event: Visiblity change"),s(n,16))}function ht(n,i){function f(n){return"parent"===t[n].resizeFrom&&t[n].autoResize&&!t[n].firstRun}for(var r in t)f(r)&&u(n,i,document.getElementById(r),r)}function dt(){f(n,"message",bt);f(n,"resize",function(){a("resize")});f(document,"visibilitychange",st);f(document,"-webkit-visibilitychange",st);f(n,"focusin",function(){a("focus")});f(n,"focus",function(){a("focus")})}function v(){function t(t,i){function r(){if(!i.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==i.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+i.tagName+">");}i&&(r(),ot(i,t),n.push(i))}function i(n){n&&n.enablePublicMethods&&e("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var n;return yt(),dt(),function(r,u){switch(n=[],i(r),typeof u){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(u||"iframe"),t.bind(void 0,r));break;case"object":t(r,u);break;default:throw new TypeError("Unexpected data type ("+typeof u+")");}return n}}function gt(n){n.fn?n.fn.iFrameResize||(n.fn.iFrameResize=function(n){function t(t,i){ot(i,n)}return this.filter("iframe").each(t).end()}):k("","Unable to bind to jQuery, it is not fully loaded.")}var ct=0,lt=!1,at=!1,ni=7,h="[iFrameSizer]",y=h.length,r=null,o=n.requestAnimationFrame,ti={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},t={},p=null,w="Host Page",c={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){e("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};n.jQuery&&gt(jQuery);"function"==typeof define&&define.amd?define([],v):"object"==typeof module&&"object"==typeof module.exports?module.exports=v():n.iFrameResize=n.iFrameResize||v()}(window||{}),function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)}(function(n){var t=function(){var t;return n&&n.fn&&n.fn.select2&&n.fn.select2.amd&&(t=n.fn.select2.amd),function(){if(!t||!t.requirejs){t?i=t:t={};var n,i,r;(function(t){function e(n,t){return k.call(n,t)}function l(n,t){var o,s,r,u,h,y,c,b,i,l,w,e=t&&t.split("/"),a=f.map,v=a&&a["*"]||{};if(n&&n.charAt(0)===".")if(t){for(n=n.split("/"),h=n.length-1,f.nodeIdCompat&&p.test(n[h])&&(n[h]=n[h].replace(p,"")),n=e.slice(0,e.length-1).concat(n),i=0;i<n.length;i+=1)if(w=n[i],w===".")n.splice(i,1),i-=1;else if(w==="..")if(i===1&&(n[2]===".."||n[0]===".."))break;else i>0&&(n.splice(i-1,2),i-=2);n=n.join("/")}else n.indexOf("./")===0&&(n=n.substring(2));if((e||v)&&a){for(o=n.split("/"),i=o.length;i>0;i-=1){if(s=o.slice(0,i).join("/"),e)for(l=e.length;l>0;l-=1)if(r=a[e.slice(0,l).join("/")],r&&(r=r[s],r)){u=r;y=i;break}if(u)break;!c&&v&&v[s]&&(c=v[s],b=i)}!u&&c&&(u=c,y=b);u&&(o.splice(0,y,u),n=o.join("/"))}return n}function w(n,i){return function(){var r=d.call(arguments,0);return typeof r[0]!="string"&&r.length===1&&r.push(null),o.apply(t,r.concat([n,i]))}}function g(n){return function(t){return l(t,n)}}function nt(n){return function(t){u[n]=t}}function a(n){if(e(h,n)){var i=h[n];delete h[n];y[n]=!0;c.apply(t,i)}if(!e(u,n)&&!e(y,n))throw new Error("No "+n);return u[n]}function b(n){var i,t=n?n.indexOf("!"):-1;return t>-1&&(i=n.substring(0,t),n=n.substring(t+1,n.length)),[i,n]}function tt(n){return function(){return f&&f.config&&f.config[n]||{}}}var c,o,v,s,u={},h={},f={},y={},k=Object.prototype.hasOwnProperty,d=[].slice,p=/\.js$/;v=function(n,t){var r,u=b(n),i=u[0];return n=u[1],i&&(i=l(i,t),r=a(i)),i?n=r&&r.normalize?r.normalize(n,g(t)):l(n,t):(n=l(n,t),u=b(n),i=u[0],n=u[1],i&&(r=a(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:r}};s={require:function(n){return w(n)},exports:function(n){var t=u[n];return typeof t!="undefined"?t:u[n]={}},module:function(n){return{id:n,uri:"",exports:u[n],config:tt(n)}}};c=function(n,i,r,f){var p,o,k,b,c,l=[],d=typeof r,g;if(f=f||n,d==="undefined"||d==="function"){for(i=!i.length&&r.length?["require","exports","module"]:i,c=0;c<i.length;c+=1)if(b=v(i[c],f),o=b.f,o==="require")l[c]=s.require(n);else if(o==="exports")l[c]=s.exports(n),g=!0;else if(o==="module")p=l[c]=s.module(n);else if(e(u,o)||e(h,o)||e(y,o))l[c]=a(o);else if(b.p)b.p.load(b.n,w(f,!0),nt(o),{}),l[c]=u[o];else throw new Error(n+" missing "+o);k=r?r.apply(u[n],l):undefined;n&&(p&&p.exports!==t&&p.exports!==u[n]?u[n]=p.exports:k===t&&g||(u[n]=k))}else n&&(u[n]=r)};n=i=o=function(n,i,r,u,e){if(typeof n=="string")return s[n]?s[n](i):a(v(n,i).f);if(!n.splice){if(f=n,f.deps&&o(f.deps,f.callback),!i)return;i.splice?(n=i,i=r,r=null):n=t}return i=i||function(){},typeof r=="function"&&(r=u,u=e),u?c(t,n,i,r):setTimeout(function(){c(t,n,i,r)},4),o};o.config=function(n){return o(n)};n._defined=u;r=function(n,t,i){if(typeof n!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]);e(u,n)||e(h,n)||(h[n]=[n,t,i])};r.amd={jQuery:!0}})();t.requirejs=n;t.require=i;t.define=r}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=n||$;return t==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(n){function r(n){var i=n.prototype,r=[],t,u;for(t in i)(u=i[t],typeof u=="function")&&t!=="constructor"&&r.push(t);return r}var t={},i;return t.Extend=function(n,t){function r(){this.constructor=n}var u={}.hasOwnProperty;for(var i in t)u.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},t.Decorate=function(n,t){function i(){var r=Array.prototype.unshift,u=t.prototype.constructor.length,i=n.prototype.constructor;u>0&&(r.call(arguments,n.prototype.constructor),i=t.prototype.constructor);i.apply(this,arguments)}function l(){this.constructor=i}var s=r(t),h=r(n),u,e,c,f,o;for(t.displayName=n.displayName,i.prototype=new l,u=0;u<h.length;u++)e=h[u],i.prototype[e]=n.prototype[e];for(c=function(n){var r=function(){},u;return n in i.prototype&&(r=i.prototype[n]),u=t.prototype[n],function(){var n=Array.prototype.unshift;return n.call(arguments,r),u.apply(this,arguments)}},f=0;f<s.length;f++)o=s[f],i.prototype[o]=c(o);return i},i=function(){this.listeners={}},i.prototype.on=function(n,t){this.listeners=this.listeners||{};n in this.listeners?this.listeners[n].push(t):this.listeners[n]=[t]},i.prototype.trigger=function(n){var i=Array.prototype.slice,t=i.call(arguments,1);this.listeners=this.listeners||{};t==null&&(t=[]);t.length===0&&t.push({});t[0]._type=n;n in this.listeners&&this.invoke(this.listeners[n],i.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(n,t){for(var i=0,r=n.length;i<r;i++)n[i].apply(this,t)},t.Observable=i,t.generateChars=function(n){for(var r,t="",i=0;i<n;i++)r=Math.floor(Math.random()*36),t+=r.toString(36);return t},t.bind=function(n,t){return function(){n.apply(t,arguments)}},t._convertData=function(n){var f,r,i,u,t;for(f in n)if(r=f.split("-"),i=n,r.length!==1){for(u=0;u<r.length;u++)t=r[u],t=t.substring(0,1).toLowerCase()+t.substring(1),t in i||(i[t]={}),u==r.length-1&&(i[t]=n[f]),i=i[t];delete n[f]}return n},t.hasScroll=function(t,i){var u=n(i),f=i.style.overflowX,r=i.style.overflowY;return f===r&&(r==="hidden"||r==="visible")?!1:f==="scroll"||r==="scroll"?!0:u.innerHeight()<i.scrollHeight||u.innerWidth()<i.scrollWidth},t.escapeMarkup=function(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof n!="string"?n:String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})},t.appendMany=function(t,i){if(n.fn.jquery.substr(0,3)==="1.7"){var r=n();n.map(i,function(n){r=r.add(n)});i=r}t.append(i)},t}),t.define("select2/results",["jquery","./utils"],function(n,t){function i(n,t,r){this.$element=n;this.data=r;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<ul class="select2-results__options" role="tree"><\/ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var u=this.options.get("escapeMarkup"),i,r;this.clear();this.hideLoading();i=n('<li role="treeitem" aria-live="assertive" class="select2-results__option"><\/li>');r=this.options.get("translations").get(t.message);i.append(u(r(t.args)));i[0].className+=" select2-results__message";this.$results.append(i)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(n){var i,t,r,u;if(this.hideLoading(),i=[],n.results==null||n.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}for(n.results=this.sort(n.results),t=0;t<n.results.length;t++)r=n.results[t],u=this.option(r),i.push(u);this.$results.append(i)},i.prototype.position=function(n,t){var i=t.find(".select2-results");i.append(n)},i.prototype.sort=function(n){var t=this.options.get("sorter");return t(n)},i.prototype.highlightFirstItem=function(){var n=this.$results.find(".select2-results__option[aria-selected]"),t=n.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):n.first().trigger("mouseenter");this.ensureHighlightVisible()},i.prototype.setClasses=function(){var t=this;this.data.current(function(i){var r=n.map(i,function(n){return n.id.toString()}),u=t.$results.find(".select2-results__option[aria-selected]");u.each(function(){var i=n(this),t=n.data(this,"data"),u=""+t.id;t.element!=null&&t.element.selected||t.element==null&&n.inArray(u,r)>-1?i.attr("aria-selected","true"):i.attr("aria-selected","false")})})},i.prototype.showLoading=function(n){this.hideLoading();var i=this.options.get("translations").get("searching"),r={disabled:!0,loading:!0,text:i(n)},t=this.option(r);t.className+=" loading-results";this.$results.prepend(t)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(t){var r=document.createElement("li"),i,e,c,o,u,v,s,f,l,a,h;r.className="select2-results__option";i={role:"treeitem","aria-selected":"false"};t.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true");t.id==null&&delete i["aria-selected"];t._resultId!=null&&(r.id=t._resultId);t.title&&(r.title=t.title);t.children&&(i.role="group",i["aria-label"]=t.text,delete i["aria-selected"]);for(e in i)c=i[e],r.setAttribute(e,c);if(t.children){for(o=n(r),u=document.createElement("strong"),u.className="select2-results__group",v=n(u),this.template(t,u),s=[],f=0;f<t.children.length;f++)l=t.children[f],a=this.option(l),s.push(a);h=n("<ul><\/ul>",{"class":"select2-results__options select2-results__options--nested"});h.append(s);o.append(u);o.append(h)}else this.template(t,r);return n.data(r,"data",t),r},i.prototype.bind=function(t){var i=this,r=t.id+"-results";this.$results.attr("id",r);t.on("results:all",function(n){i.clear();i.append(n.data);t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("results:append",function(n){i.append(n.data);t.isOpen()&&i.setClasses()});t.on("query",function(n){i.hideMessages();i.showLoading(n)});t.on("select",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("unselect",function(){t.isOpen()&&(i.setClasses(),i.highlightFirstItem())});t.on("open",function(){i.$results.attr("aria-expanded","true");i.$results.attr("aria-hidden","false");i.setClasses();i.ensureHighlightVisible()});t.on("close",function(){i.$results.attr("aria-expanded","false");i.$results.attr("aria-hidden","true");i.$results.removeAttr("aria-activedescendant")});t.on("results:toggle",function(){var n=i.getHighlightedResults();n.length!==0&&n.trigger("mouseup")});t.on("results:select",function(){var n=i.getHighlightedResults(),t;n.length!==0&&(t=n.data("data"),n.attr("aria-selected")=="true"?i.trigger("close",{}):i.trigger("select",{data:t}))});t.on("results:previous",function(){var r=i.getHighlightedResults(),u=i.$results.find("[aria-selected]"),f=u.index(r),n,t;if(f!==0){n=f-1;r.length===0&&(n=0);t=u.eq(n);t.trigger("mouseenter");var e=i.$results.offset().top,o=t.offset().top,s=i.$results.scrollTop()+(o-e);n===0?i.$results.scrollTop(0):o-e<0&&i.$results.scrollTop(s)}});t.on("results:next",function(){var e=i.getHighlightedResults(),t=i.$results.find("[aria-selected]"),o=t.index(e),r=o+1,n;if(!(r>=t.length)){n=t.eq(r);n.trigger("mouseenter");var u=i.$results.offset().top+i.$results.outerHeight(!1),f=n.offset().top+n.outerHeight(!1),s=i.$results.scrollTop()+f-u;r===0?i.$results.scrollTop(0):f>u&&i.$results.scrollTop(s)}});t.on("results:focus",function(n){n.element.addClass("select2-results__option--highlighted")});t.on("results:message",function(n){i.displayMessage(n)});if(n.fn.mousewheel)this.$results.on("mousewheel",function(n){var t=i.$results.scrollTop(),r=i.$results.get(0).scrollHeight-t+n.deltaY,u=n.deltaY>0&&t-n.deltaY<=0,f=n.deltaY<0&&r<=i.$results.height();u?(i.$results.scrollTop(0),n.preventDefault(),n.stopPropagation()):f&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),n.preventDefault(),n.stopPropagation())});this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var r=n(this),u=r.data("data");if(r.attr("aria-selected")==="true"){i.options.get("multiple")?i.trigger("unselect",{originalEvent:t,data:u}):i.trigger("close",{});return}i.trigger("select",{originalEvent:t,data:u})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var t=n(this).data("data");i.getHighlightedResults().removeClass("select2-results__option--highlighted");i.trigger("results:focus",{data:t,element:n(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var n=this.getHighlightedResults();if(n.length!==0){var f=this.$results.find("[aria-selected]"),e=f.index(n),t=this.$results.offset().top,i=n.offset().top,r=this.$results.scrollTop()+(i-t),u=i-t;r-=n.outerHeight(!1)*2;e<=2?this.$results.scrollTop(0):(u>this.$results.outerHeight()||u<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var u=this.options.get("templateResult"),f=this.options.get("escapeMarkup"),r=u(t,i);r==null?i.style.display="none":typeof r=="string"?i.innerHTML=f(r):n(i).append(r)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"><\/span>');return this._tabindex=0,this.$element.data("old-tabindex")!=null?this._tabindex=this.$element.data("old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},r.prototype.bind=function(n){var t=this,u=n.id+"-container",r=n.id+"-results";this.container=n;this.$selection.on("focus",function(n){t.trigger("focus",n)});this.$selection.on("blur",function(n){t._handleBlur(n)});this.$selection.on("keydown",function(n){t.trigger("keypress",n);n.which===i.SPACE&&n.preventDefault()});n.on("results:focus",function(n){t.$selection.attr("aria-activedescendant",n.data._resultId)});n.on("selection:update",function(n){t.update(n.data)});n.on("open",function(){t.$selection.attr("aria-expanded","true");t.$selection.attr("aria-owns",r);t._attachCloseHandler(n)});n.on("close",function(){t.$selection.attr("aria-expanded","false");t.$selection.removeAttr("aria-activedescendant");t.$selection.removeAttr("aria-owns");t.$selection.focus();t._detachCloseHandler(n)});n.on("enable",function(){t.$selection.attr("tabindex",t._tabindex)});n.on("disable",function(){t.$selection.attr("tabindex","-1")})},r.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||n.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(t){var i=this;n(document.body).on("mousedown.select2."+t.id,function(t){var i=n(t.target),r=i.closest(".select2"),u=n(".select2.select2-container--open");u.each(function(){var i=n(this),t;this!=r[0]&&(t=i.data("element"),t.select2("close"))})})},r.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(n,t){var i=t.find(".selection");i.append(n)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.");},r}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--single"),n.html('<span class="select2-selection__rendered"><\/span><span class="select2-selection__arrow" role="presentation"><b role="presentation"><\/b><\/span>'),n},r.prototype.bind=function(n){var t=this,i;r.__super__.bind.apply(this,arguments);i=n.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i);this.$selection.attr("aria-labelledby",i);this.$selection.on("mousedown",function(n){n.which===1&&t.trigger("toggle",{originalEvent:n})});this.$selection.on("focus",function(){});this.$selection.on("blur",function(){});n.on("focus",function(){n.isOpen()||t.$selection.focus()});n.on("selection:update",function(n){t.update(n.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(n,t){var i=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(i(n,t))},r.prototype.selectionContainer=function(){return n("<span><\/span>")},r.prototype.update=function(n){if(n.length===0){this.clear();return}var t=n[0],i=this.$selection.find(".select2-selection__rendered"),r=this.display(t,i);i.empty().append(r);i.prop("title",t.title||t.text)},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--multiple"),n.html('<ul class="select2-selection__rendered"><\/ul>'),n},r.prototype.bind=function(){var t=this;r.__super__.bind.apply(this,arguments);this.$selection.on("click",function(n){t.trigger("toggle",{originalEvent:n})});this.$selection.on("click",".select2-selection__choice__remove",function(i){if(!t.options.get("disabled")){var r=n(this),u=r.parent(),f=u.data("data");t.trigger("unselect",{originalEvent:i,data:f})}})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(n,t){var i=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(i(n,t))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;<\/span><\/li>')},r.prototype.update=function(n){var f,r,e;if(this.clear(),n.length!==0){for(f=[],r=0;r<n.length;r++){var u=n[r],t=this.selectionContainer(),o=this.display(u,t);t.append(o);t.prop("title",u.title||u.text);t.data("data",u);f.push(t)}e=this.$selection.find(".select2-selection__rendered");i.appendMany(e,f)}},r}),t.define("select2/selection/placeholder",["../utils"],function(){function n(n,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i)}return n.prototype.normalizePlaceholder=function(n,t){return typeof t=="string"&&(t={id:"",text:t}),t},n.prototype.createPlaceholder=function(n,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},n.prototype.update=function(n,t){var r=t.length==1&&t[0].id!=this.placeholder.id,u=t.length>1,i;if(u||r)return n.call(this,t);this.clear();i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},n}),t.define("select2/selection/allowClear",["jquery","../keys"],function(n,t){function i(){}return i.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(n){r._handleClear(n)});t.on("keypress",function(n){r._handleKeyboardClear(n,t)})},i.prototype._handleClear=function(n,t){var r,u,i,f;if(!this.options.get("disabled")&&(r=this.$selection.find(".select2-selection__clear"),r.length!==0)){for(t.stopPropagation(),u=r.data("data"),i=0;i<u.length;i++)if(f={data:u[i]},this.trigger("unselect",f),f.prevented)return;this.$element.val(this.placeholder.id).trigger("change");this.trigger("toggle",{})}},i.prototype._handleKeyboardClear=function(n,i,r){r.isOpen()||(i.which==t.DELETE||i.which==t.BACKSPACE)&&this._handleClear(i)},i.prototype.update=function(t,i){if(t.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0)&&i.length!==0){var r=n('<span class="select2-selection__clear">&times;<\/span>');r.data("data",i);this.$selection.find(".select2-selection__rendered").prepend(r)}},i}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(n,t,i){function r(n,t,i){n.call(this,t,i)}return r.prototype.render=function(t){var i=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" aria-autocomplete="list" /><\/li>'),r;return this.$searchContainer=i,this.$search=i.find("input"),r=t.call(this),this._transferTabIndex(),r},r.prototype.bind=function(n,t,r){var u=this,f,e;n.call(this,t,r);t.on("open",function(){u.$search.trigger("focus")});t.on("close",function(){u.$search.val("");u.$search.removeAttr("aria-activedescendant");u.$search.trigger("focus")});t.on("enable",function(){u.$search.prop("disabled",!1);u._transferTabIndex()});t.on("disable",function(){u.$search.prop("disabled",!0)});t.on("focus",function(){u.$search.trigger("focus")});t.on("results:focus",function(n){u.$search.attr("aria-activedescendant",n.id)});this.$selection.on("focusin",".select2-search--inline",function(n){u.trigger("focus",n)});this.$selection.on("focusout",".select2-search--inline",function(n){u._handleBlur(n)});this.$selection.on("keydown",".select2-search--inline",function(n){var r,t,f;n.stopPropagation();u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented();r=n.which;r===i.BACKSPACE&&u.$search.val()===""&&(t=u.$searchContainer.prev(".select2-selection__choice"),t.length>0&&(f=t.data("data"),u.searchRemoveChoice(f),n.preventDefault()))});f=document.documentMode;e=f&&f<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){if(e){u.$selection.off("input.search input.searchcheck");return}u.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(n){if(e&&n.type==="input"){u.$selection.off("input.search input.searchcheck");return}var t=n.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&u.handleSearch(n)})},r.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(n,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(n,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");n.call(this,t);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();i&&this.$search.focus()},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(n,t){this.trigger("unselect",{data:t});this.$search.val(t.text);this.handleSearch()},r.prototype.resizeSearch=function(){var n,t;this.$search.css("width","25px");n="";this.$search.attr("placeholder")!==""?n=this.$selection.find(".select2-selection__rendered").innerWidth():(t=this.$search.val().length+1,n=t*.75+"em");this.$search.css("width",n)},r}),t.define("select2/selection/eventRelay",["jquery"],function(n){function t(){}return t.prototype.bind=function(t,i,r){var u=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting"],e=["opening","closing","selecting","unselecting"];t.call(this,i,r);i.on("*",function(t,i){if(n.inArray(t,f)!==-1){i=i||{};var r=n.Event("select2:"+t,{params:i});(u.$element.trigger(r),n.inArray(t,e)!==-1)&&(i.prevented=r.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(n,t){function i(n){this.dict=n||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(n){return this.dict[n]},i.prototype.extend=function(t){this.dict=n.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(n){if(!(n in i._cache)){var r=t(n);i._cache[n]=r}return new i(i._cache[n])},i}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""}}),t.define("select2/data/base",["../utils"],function(n){function t(){t.__super__.constructor.call(this)}return n.Extend(t,n.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.");},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.");},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var r=t.id+"-result-";return r+=n.generateChars(4),r+(i.id!=null?"-"+i.id.toString():"-"+n.generateChars(4))},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,n),r.prototype.current=function(n){var t=[],r=this;this.$element.find(":selected").each(function(){var n=i(this),u=r.item(n);t.push(u)});n(t)},r.prototype.select=function(n){var t=this,r;if(n.selected=!0,i(n.element).is("option")){n.element.selected=!0;this.$element.trigger("change");return}this.$element.prop("multiple")?this.current(function(r){var f=[],u,e;for(n=[n],n.push.apply(n,r),u=0;u<n.length;u++)e=n[u].id,i.inArray(e,f)===-1&&f.push(e);t.$element.val(f);t.$element.trigger("change")}):(r=n.id,this.$element.val(r),this.$element.trigger("change"))},r.prototype.unselect=function(n){var t=this;if(this.$element.prop("multiple")){if(n.selected=!1,i(n.element).is("option")){n.element.selected=!1;this.$element.trigger("change");return}this.current(function(r){for(var u,f=[],e=0;e<r.length;e++)u=r[e].id,u!==n.id&&i.inArray(u,f)===-1&&f.push(u);t.$element.val(f);t.$element.trigger("change")})}},r.prototype.bind=function(n){var t=this;this.container=n;n.on("select",function(n){t.select(n.data)});n.on("unselect",function(n){t.unselect(n.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){i.removeData(this,"data")})},r.prototype.query=function(n,t){var r=[],u=this,f=this.$element.children();f.each(function(){var t=i(this),e,f;(t.is("option")||t.is("optgroup"))&&(e=u.item(t),f=u.matches(n,e),f!==null&&r.push(f))});t({results:r})},r.prototype.addOptions=function(n){t.appendMany(this.$element,n)},r.prototype.option=function(n){var t,u,r;return n.children?(t=document.createElement("optgroup"),t.label=n.text):(t=document.createElement("option"),t.textContent!==undefined?t.textContent=n.text:t.innerText=n.text),n.id&&(t.value=n.id),n.disabled&&(t.disabled=!0),n.selected&&(t.selected=!0),n.title&&(t.title=n.title),u=i(t),r=this._normalizeItem(n),r.element=t,i.data(t,"data",r),u},r.prototype.item=function(n){var t={},u,f,r,e,o;if(t=i.data(n[0],"data"),t!=null)return t;if(n.is("option"))t={id:n.val(),text:n.text(),disabled:n.prop("disabled"),selected:n.prop("selected"),title:n.prop("title")};else if(n.is("optgroup")){for(t={text:n.prop("label"),children:[],title:n.prop("title")},u=n.children("option"),f=[],r=0;r<u.length;r++)e=i(u[r]),o=this.item(e),f.push(o);t.children=f}return t=this._normalizeItem(t),t.element=n[0],i.data(n[0],"data",t),t},r.prototype._normalizeItem=function(n){i.isPlainObject(n)||(n={id:n,text:n});n=i.extend({},{text:""},n);return n.id!=null&&(n.id=n.id.toString()),n.text!=null&&(n.text=n.text.toString()),n._resultId==null&&n.id&&this.container!=null&&(n._resultId=this.generateResultId(this.container,n)),i.extend({},{selected:!1,disabled:!1},n)},r.prototype.matches=function(n,t){var i=this.options.get("matcher");return i(n,t)},r}),t.define("select2/data/array",["./select","../utils","jquery"],function(n,t,i){function r(n,t){var i=t.get("data")||[];r.__super__.constructor.call(this,n,t);this.addOptions(this.convertToOptions(i))}return t.Extend(r,n),r.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,i){return i.value==n.id.toString()});t.length===0&&(t=this.option(n),this.addOptions(t));r.__super__.select.call(this,n)},r.prototype.convertToOptions=function(n){function a(n){return function(){return i(this).val()==n.id}}for(var r,f,h,c=this,e=this.$element.find("option"),l=e.map(function(){return c.item(i(this)).id}).get(),o=[],u=0;u<n.length;u++){if(r=this._normalizeItem(n[u]),i.inArray(r.id,l)>=0){var s=e.filter(a(r)),v=this.item(s),y=i.extend(!0,{},r,v),p=this.option(y);s.replaceWith(p);continue}f=this.option(r);r.children&&(h=this.convertToOptions(r.children),t.appendMany(f,h));o.push(f)}return o},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(n,t,i){function r(n,t){this.ajaxOptions=this._applyDefaults(t.get("ajax"));this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults);r.__super__.constructor.call(this,n,t)}return t.Extend(r,n),r.prototype._applyDefaults=function(n){var t={data:function(n){return i.extend({},n,{q:n.term})},transport:function(n,t,r){var u=i.ajax(n);return u.then(t),u.fail(r),u}};return i.extend({},t,n,!0)},r.prototype.processResults=function(n){return n},r.prototype.query=function(n,t){function f(){var f=r.transport(r,function(r){var f=u.processResults(r,n);u.options.get("debug")&&window.console&&console.error&&(f&&f.results&&i.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));t(f)},function(){f.status&&f.status==="0"||u.trigger("results:message",{message:"errorLoading"})});u._request=f}var u=this,r;this._request!=null&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);r=i.extend({type:"GET"},this.ajaxOptions);typeof r.url=="function"&&(r.url=r.url.call(this.$element,n));typeof r.data=="function"&&(r.data=r.data.call(this.$element,n));this.ajaxOptions.delay&&n.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(f,this.ajaxOptions.delay)):f()},r}),t.define("select2/data/tags",["jquery"],function(n){function t(t,i,r){var f=r.get("tags"),o=r.get("createTag"),e,u;if(o!==undefined&&(this.createTag=o),e=r.get("insertTag"),e!==undefined&&(this.insertTag=e),t.call(this,i,r),n.isArray(f))for(u=0;u<f.length;u++){var s=f[u],h=this._normalizeItem(s),c=this.option(h);this.$element.append(c)}}return t.prototype.query=function(n,t,i){function u(n,f){for(var o,c,e=n.results,s=0;s<e.length;s++){var h=e[s],l=h.children!=null&&!u({results:h.children},!0),a=h.text===t.term;if(a||l){if(f)return!1;n.data=e;i(n);return}}if(f)return!0;o=r.createTag(t);o!=null&&(c=r.option(o),c.attr("data-select2-tag",!0),r.addOptions([c]),r.insertTag(e,o));n.results=e;i(n)}var r=this;if(this._removeOldTags(),t.term==null||t.page!=null){n.call(this,t,i);return}n.call(this,t,u)},t.prototype.createTag=function(t,i){var r=n.trim(i.term);return r===""?null:{id:r,text:r}},t.prototype.insertTag=function(n,t,i){t.unshift(i)},t.prototype._removeOldTags=function(){var i=this._lastTag,t=this.$element.find("option[data-select2-tag]");t.each(function(){this.selected||n(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(n){function t(n,t,i){var r=i.get("tokenizer");r!==undefined&&(this.tokenizer=r);n.call(this,t,i)}return t.prototype.bind=function(n,t,i){n.call(this,t,i);this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,r){function e(t){var i=u._normalizeItem(t),f=u.$element.find("option").filter(function(){return n(this).val()===i.id}),r;f.length||(r=u.option(i),r.attr("data-select2-tag",!0),u._removeOldTags(),u.addOptions([r]));o(i)}function o(n){u.trigger("select",{data:n})}var u=this,f;i.term=i.term||"";f=this.tokenizer(i,this.options,e);f.term!==i.term&&(this.$search.length&&(this.$search.val(f.term),this.$search.focus()),i.term=f.term);t.call(this,i,r)},t.prototype.tokenizer=function(t,i,r,u){for(var h=r.get("tokenSeparators")||[],e=i.term,f=0,c=this.createTag||function(n){return{id:n.term,text:n.term}},o;f<e.length;){if(o=e[f],n.inArray(o,h)===-1){f++;continue}var l=e.substr(0,f),a=n.extend({},i,{term:l}),s=c(a);if(s==null){f++;continue}u(s);e=e.substr(f+1)||"";f=0}return{term:e}},t}),t.define("select2/data/minimumInputLength",[],function(){function n(n,t,i){this.minimumInputLength=i.get("minimumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){if(t.term=t.term||"",t.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});return}n.call(this,t,i)},n}),t.define("select2/data/maximumInputLength",[],function(){function n(n,t,i){this.maximumInputLength=i.get("maximumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){if(t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});return}n.call(this,t,i)},n}),t.define("select2/data/maximumSelectionLength",[],function(){function n(n,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){var r=this;this.current(function(u){var f=u!=null?u.length:0;if(r.maximumSelectionLength>0&&f>=r.maximumSelectionLength){r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}});return}n.call(r,t,i)})},n}),t.define("select2/dropdown",["jquery","./utils"],function(n,t){function i(n,t){this.$element=n;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<span class="select2-dropdown"><span class="select2-results"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(n){function t(){}return t.prototype.render=function(t){var r=t.call(this),i=n('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /><\/span>');return this.$searchContainer=i,this.$search=i.find("input"),r.prepend(i),r},t.prototype.bind=function(t,i,r){var u=this;t.call(this,i,r);this.$search.on("keydown",function(n){u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented()});this.$search.on("input",function(){n(this).off("keyup")});this.$search.on("keyup input",function(n){u.handleSearch(n)});i.on("open",function(){u.$search.attr("tabindex",0);u.$search.focus();window.setTimeout(function(){u.$search.focus()},0)});i.on("close",function(){u.$search.attr("tabindex",-1);u.$search.val("")});i.on("focus",function(){i.isOpen()&&u.$search.focus()});i.on("results:all",function(n){if(n.query.term==null||n.query.term===""){var t=u.showSearch(n);t?u.$searchContainer.removeClass("select2-search--hide"):u.$searchContainer.addClass("select2-search--hide")}})},t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},t.prototype.showSearch=function(){return!0},t}),t.define("select2/dropdown/hidePlaceholder",[],function(){function n(n,t,i,r){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i,r)}return n.prototype.append=function(n,t){t.results=this.removePlaceholder(t.results);n.call(this,t)},n.prototype.normalizePlaceholder=function(n,t){return typeof t=="string"&&(t={id:"",text:t}),t},n.prototype.removePlaceholder=function(n,t){for(var u,r=t.slice(0),i=t.length-1;i>=0;i--)u=t[i],this.placeholder.id===u.id&&r.splice(i,1);return r},n}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function t(n,t,i,r){this.lastParams={};n.call(this,t,i,r);this.$loadingMore=this.createLoadingMore();this.loading=!1}return t.prototype.append=function(n,t){this.$loadingMore.remove();this.loading=!1;n.call(this,t);this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,i,r){var u=this;t.call(this,i,r);i.on("query",function(n){u.lastParams=n;u.loading=!0});i.on("query:append",function(n){u.lastParams=n;u.loading=!0});this.$results.on("scroll",function(){var r=n.contains(document.documentElement,u.$loadingMore[0]),t,i;!u.loading&&r&&(t=u.$results.offset().top+u.$results.outerHeight(!1),i=u.$loadingMore.offset().top+u.$loadingMore.outerHeight(!1),t+50>=i&&u.loadMore())})},t.prototype.loadMore=function(){this.loading=!0;var t=n.extend({},{page:1},this.lastParams);t.page++;this.trigger("query:append",t)},t.prototype.showLoadingMore=function(n,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=n('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"><\/li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(n,t){function i(t,i,r){this.$dropdownParent=r.get("dropdownParent")||n(document.body);t.call(this,i,r)}return i.prototype.bind=function(n,t,i){var r=this,u=!1;n.call(this,t,i);t.on("open",function(){if(r._showDropdown(),r._attachPositioningHandler(t),!u){u=!0;t.on("results:all",function(){r._positionDropdown();r._resizeDropdown()});t.on("results:append",function(){r._positionDropdown();r._resizeDropdown()})}});t.on("close",function(){r._hideDropdown();r._detachPositioningHandler(t)});this.$dropdownContainer.on("mousedown",function(n){n.stopPropagation()})},i.prototype.destroy=function(n){n.call(this);this.$dropdownContainer.remove()},i.prototype.position=function(n,t,i){t.attr("class",i.attr("class"));t.removeClass("select2");t.addClass("select2-container--open");t.css({position:"absolute",top:-999999});this.$container=i},i.prototype.render=function(t){var i=n("<span><\/span>"),r=t.call(this);return i.append(r),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._attachPositioningHandler=function(i,r){var u=this,f="scroll.select2."+r.id,o="resize.select2."+r.id,s="orientationchange.select2."+r.id,e=this.$container.parents().filter(t.hasScroll);e.each(function(){n(this).data("select2-scroll-position",{x:n(this).scrollLeft(),y:n(this).scrollTop()})});e.on(f,function(){var t=n(this).data("select2-scroll-position");n(this).scrollTop(t.y)});n(window).on(f+" "+o+" "+s,function(){u._positionDropdown();u._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,r){var u="scroll.select2."+r.id,f="resize.select2."+r.id,e="orientationchange.select2."+r.id,o=this.$container.parents().filter(t.hasScroll);o.off(u);n(window).off(u+" "+f+" "+e)},i.prototype._positionDropdown=function(){var s=n(window),u=this.$dropdown.hasClass("select2-dropdown--above"),v=this.$dropdown.hasClass("select2-dropdown--below"),t=null,i=this.$container.offset(),r,o;i.bottom=i.top+this.$container.outerHeight(!1);r={height:this.$container.outerHeight(!1)};r.top=i.top;r.bottom=i.top+r.height;var h={height:this.$dropdown.outerHeight(!1)},c={top:s.scrollTop(),bottom:s.scrollTop()+s.height()},l=c.top<i.top-h.height,a=c.bottom>i.bottom+h.height,f={left:i.left,top:r.bottom},e=this.$dropdownParent;e.css("position")==="static"&&(e=e.offsetParent());o=e.offset();f.top-=o.top;f.left-=o.left;u||v||(t="below");a||!l||u?!l&&a&&u&&(t="below"):t="above";(t=="above"||u&&t!=="below")&&(f.top=r.top-o.top-h.height);t!=null&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+t),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+t));this.$dropdownContainer.css(f)},i.prototype._resizeDropdown=function(){var n={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(n.minWidth=n.width,n.position="relative",n.width="auto");this.$dropdown.css(n)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function n(t){for(var u,i=0,r=0;r<t.length;r++)u=t[r],u.children?i+=n(u.children):i++;return i}function t(n,t,i,r){this.minimumResultsForSearch=i.get("minimumResultsForSearch");this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=Infinity);n.call(this,t,i,r)}return t.prototype.showSearch=function(t,i){return n(i.data.results)<this.minimumResultsForSearch?!1:t.call(this,i)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("close",function(n){r._handleSelectOnClose(n)})},n.prototype._handleSelectOnClose=function(n,t){var r,u,i;t&&t.originalSelect2Event!=null&&(r=t.originalSelect2Event,r._type==="select"||r._type==="unselect")||(u=this.getHighlightedResults(),u.length<1)||(i=u.data("data"),i.element!=null&&i.element.selected||i.element==null&&i.selected)||this.trigger("select",{data:i})},n}),t.define("select2/dropdown/closeOnSelect",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("select",function(n){r._selectTriggered(n)});t.on("unselect",function(n){r._selectTriggered(n)})},n.prototype._selectTriggered=function(n,t){var i=t.originalEvent;i&&i.ctrlKey||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},n}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(n){var t=n.input.length-n.maximum,i="Please delete "+t+" character";return t!=1&&(i+="s"),i},inputTooShort:function(n){var t=n.minimum-n.input.length;return"Please enter "+t+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(n){var t="You can only select "+n.maximum+" item";return n.maximum!=1&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot){function st(){this.reset()}st.prototype.apply=function(l){var vt,yt,pt,wt,bt,kt,dt,ct,lt,st,ot,ht,gt,at;if(l=n.extend(!0,{},this.defaults,l),l.dataAdapter==null&&(l.dataAdapter=l.ajax!=null?y:l.data!=null?v:a,l.minimumInputLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,b)),l.maximumInputLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,k)),l.maximumSelectionLength>0&&(l.dataAdapter=h.Decorate(l.dataAdapter,d)),l.tags&&(l.dataAdapter=h.Decorate(l.dataAdapter,p)),(l.tokenSeparators!=null||l.tokenizer!=null)&&(l.dataAdapter=h.Decorate(l.dataAdapter,w)),l.query!=null&&(vt=t(l.amdBase+"compat/query"),l.dataAdapter=h.Decorate(l.dataAdapter,vt)),l.initSelection!=null&&(yt=t(l.amdBase+"compat/initSelection"),l.dataAdapter=h.Decorate(l.dataAdapter,yt))),l.resultsAdapter==null&&(l.resultsAdapter=i,l.ajax!=null&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,it)),l.placeholder!=null&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,tt)),l.selectOnClose&&(l.resultsAdapter=h.Decorate(l.resultsAdapter,ft))),l.dropdownAdapter==null&&(l.multiple?l.dropdownAdapter=g:(pt=h.Decorate(g,nt),l.dropdownAdapter=pt),l.minimumResultsForSearch!==0&&(l.dropdownAdapter=h.Decorate(l.dropdownAdapter,ut)),l.closeOnSelect&&(l.dropdownAdapter=h.Decorate(l.dropdownAdapter,et)),(l.dropdownCssClass!=null||l.dropdownCss!=null||l.adaptDropdownCssClass!=null)&&(wt=t(l.amdBase+"compat/dropdownCss"),l.dropdownAdapter=h.Decorate(l.dropdownAdapter,wt)),l.dropdownAdapter=h.Decorate(l.dropdownAdapter,rt)),l.selectionAdapter==null&&(l.selectionAdapter=l.multiple?u:r,l.placeholder!=null&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,f)),l.allowClear&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,e)),l.multiple&&(l.selectionAdapter=h.Decorate(l.selectionAdapter,o)),(l.containerCssClass!=null||l.containerCss!=null||l.adaptContainerCssClass!=null)&&(bt=t(l.amdBase+"compat/containerCss"),l.selectionAdapter=h.Decorate(l.selectionAdapter,bt)),l.selectionAdapter=h.Decorate(l.selectionAdapter,s)),typeof l.language=="string"&&(l.language.indexOf("-")>0?(kt=l.language.split("-"),dt=kt[0],l.language=[l.language,dt]):l.language=[l.language]),n.isArray(l.language)){for(ct=new c,l.language.push("en"),lt=l.language,st=0;st<lt.length;st++){ot=lt[st];ht={};try{ht=c.loadPath(ot)}catch(ni){try{ot=this.defaults.amdLanguageBase+ot;ht=c.loadPath(ot)}catch(ti){l.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+ot+'" could not be automatically loaded. A fallback will be used instead.');continue}}ct.extend(ht)}l.translations=ct}else gt=c.loadPath(this.defaults.amdLanguageBase+"en"),at=new c(l.language),at.extend(gt),l.translations=at;return l};st.prototype.reset=function(){function i(n){function t(n){return l[n]||n}return n.replace(/[^\u0000-\u007E]/g,t)}function t(r,u){var f,e,o,s,h,c;if(n.trim(r.term)==="")return u;if(u.children&&u.children.length>0){for(f=n.extend(!0,{},u),e=u.children.length-1;e>=0;e--)o=u.children[e],s=t(r,o),s==null&&f.children.splice(e,1);return f.children.length>0?f:t(r,f)}return(h=i(u.text).toUpperCase(),c=i(r.term).toUpperCase(),h.indexOf(c)>-1)?u:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:ot,matcher:t,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(n){return n},templateResult:function(n){return n.text},templateSelection:function(n){return n.text},theme:"default",width:"resolve"}};st.prototype.set=function(t,i){var f=n.camelCase(t),r={},u;r[f]=i;u=h._convertData(r);n.extend(this.defaults,u)};return new st}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,t,i,r){function u(t,u){if(this.options=t,u!=null&&this.fromElement(u),this.options=i.apply(this.options),u&&u.is("input")){var f=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,f)}}return u.prototype.fromElement=function(n){var e=["select2"],f,u,i;this.options.multiple==null&&(this.options.multiple=n.prop("multiple"));this.options.disabled==null&&(this.options.disabled=n.prop("disabled"));this.options.language==null&&(n.prop("lang")?this.options.language=n.prop("lang").toLowerCase():n.closest("[lang]").prop("lang")&&(this.options.language=n.closest("[lang]").prop("lang")));this.options.dir==null&&(this.options.dir=n.prop("dir")?n.prop("dir"):n.closest("[dir]").prop("dir")?n.closest("[dir]").prop("dir"):"ltr");n.prop("disabled",this.options.disabled);n.prop("multiple",this.options.multiple);n.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),n.data("data",n.data("select2Tags")),n.data("tags",!0));n.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),n.attr("ajax--url",n.data("ajaxUrl")),n.data("ajax--url",n.data("ajaxUrl")));f={};f=t.fn.jquery&&t.fn.jquery.substr(0,2)=="1."&&n[0].dataset?t.extend(!0,{},n[0].dataset,n.data()):n.data();u=t.extend(!0,{},f);u=r._convertData(u);for(i in u)t.inArray(i,e)>-1||(t.isPlainObject(this.options[i])?t.extend(this.options[i],u[i]):this.options[i]=u[i]);return this},u.prototype.get=function(n){return this.options[n]},u.prototype.set=function(n,t){this.options[n]=t},u}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(n,t,i,r){var u=function(n,i){var f,e,r,o,s,h,c;n.data("select2")!=null&&n.data("select2").destroy();this.$element=n;this.id=this._generateId(n);i=i||{};this.options=new t(i,n);u.__super__.constructor.call(this);f=n.attr("tabindex")||0;n.data("old-tabindex",f);n.attr("tabindex","-1");e=this.options.get("dataAdapter");this.dataAdapter=new e(n,this.options);r=this.render();this._placeContainer(r);o=this.options.get("selectionAdapter");this.selection=new o(n,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,r);s=this.options.get("dropdownAdapter");this.dropdown=new s(n,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,r);h=this.options.get("resultsAdapter");this.results=new h(n,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);c=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(n){c.trigger("selection:update",{data:n})});n.addClass("select2-hidden-accessible");n.attr("aria-hidden","true");this._syncAttributes();n.data("select2",this)};return i.Extend(u,i.Observable),u.prototype._generateId=function(n){var t="";return t=n.attr("id")!=null?n.attr("id"):n.attr("name")!=null?n.attr("name")+"-"+i.generateChars(2):i.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),"select2-"+t},u.prototype._placeContainer=function(n){n.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));t!=null&&n.css("width",t)},u.prototype._resolveWidth=function(n,t){var u,f,e,o,i,s,h,r;if(t=="resolve")return(u=this._resolveWidth(n,"style"),u!=null)?u:this._resolveWidth(n,"element");if(t=="element")return(f=n.outerWidth(!1),f<=0)?"auto":f+"px";if(t=="style"){if(e=n.attr("style"),typeof e!="string")return null;for(o=e.split(";"),i=0,s=o.length;i<s;i=i+1)if(h=o[i].replace(/\s/g,""),r=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),r!==null&&r.length>=1)return r[1];return null}return t},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var t=this,r;this.$element.on("change.select2",function(){t.dataAdapter.current(function(n){t.trigger("selection:update",{data:n})})});this.$element.on("focus.select2",function(n){t.trigger("focus",n)});this._syncA=i.bind(this._syncAttributes,this);this._syncS=i.bind(this._syncSubtree,this);this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;r!=null?(this._observer=new r(function(i){n.each(i,t._syncA);n.each(i,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},u.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()});this.selection.on("focus",function(n){t.focus(n)});this.selection.on("*",function(r,u){n.inArray(r,i)===-1&&t.trigger(r,u)})},u.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")});this.on("close",function(){n.$container.removeClass("select2-container--open")});this.on("enable",function(){n.$container.removeClass("select2-container--disabled")});this.on("disable",function(){n.$container.addClass("select2-container--disabled")});this.on("blur",function(){n.$container.removeClass("select2-container--focus")});this.on("query",function(t){n.isOpen()||n.trigger("open",{});this.dataAdapter.query(t,function(i){n.trigger("results:all",{data:i,query:t})})});this.on("query:append",function(t){this.dataAdapter.query(t,function(i){n.trigger("results:append",{data:i,query:t})})});this.on("keypress",function(t){var i=t.which;n.isOpen()?i===r.ESC||i===r.TAB||i===r.UP&&t.altKey?(n.close(),t.preventDefault()):i===r.ENTER?(n.trigger("results:select",{}),t.preventDefault()):i===r.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):i===r.UP?(n.trigger("results:previous",{}),t.preventDefault()):i===r.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(i===r.ENTER||i===r.SPACE||i===r.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},u.prototype._syncSubtree=function(n,t){var i=!1,f=this,r,u;if(!n||!n.target||n.target.nodeName==="OPTION"||n.target.nodeName==="OPTGROUP"){if(t)if(t.addedNodes&&t.addedNodes.length>0)for(r=0;r<t.addedNodes.length;r++)u=t.addedNodes[r],u.selected&&(i=!0);else t.removedNodes&&t.removedNodes.length>0&&(i=!0);else i=!0;i&&this.dataAdapter.current(function(n){f.trigger("selection:update",{data:n})})}},u.prototype.trigger=function(n,t){var r=u.__super__.trigger,f={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"},e,i;if(t===undefined&&(t={}),n in f&&(e=f[n],i={prevented:!1,name:n,args:t},r.call(this,e,i),i.prevented)){t.prevented=!0;return}r.call(this,n,t)},u.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||this.trigger("query",{})},u.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},u.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},u.prototype.enable=function(n){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');(n==null||n.length===0)&&(n=[!0]);var t=!n[0];this.$element.prop("disabled",t)},u.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var n=[];return this.dataAdapter.current(function(t){n=t}),n},u.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),t==null||t.length===0)return this.$element.val();var i=t[0];n.isArray(i)&&(i=n.map(i,function(n){return n.toString()}));this.$element.val(i).trigger("change")},u.prototype.destroy=function(){this.$container.remove();this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA);this._observer!=null?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1));this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",this.$element.data("old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null},u.prototype.render=function(){var t=n('<span class="select2 select2-container"><span class="selection"><\/span><span class="dropdown-wrapper" aria-hidden="true"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},u}),t.define("select2/compat/utils",["jquery"],function(n){function t(t,i,r){var u,f=[],e;u=n.trim(t.attr("class"));u&&(u=""+u,n(u.split(/\s+/)).each(function(){this.indexOf("select2-")===0&&f.push(this)}));u=n.trim(i.attr("class"));u&&(u=""+u,n(u.split(/\s+/)).each(function(){this.indexOf("select2-")!==0&&(e=r(this),e!=null&&f.push(e))}));t.attr("class",f.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(n,t){function r(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),u=this.options.get("containerCssClass")||"",f,s,e;return n.isFunction(u)&&(u=u(this.$element)),f=this.options.get("adaptContainerCssClass"),f=f||r,u.indexOf(":all:")!==-1&&(u=u.replace(":all:",""),s=f,f=function(n){var t=s(n);return t!=null?t+" "+n:n}),e=this.options.get("containerCss")||{},n.isFunction(e)&&(e=e(this.$element)),t.syncCssClasses(o,this.$element,f),o.css(e),o.addClass(u),o},i}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(n,t){function r(){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),u=this.options.get("dropdownCssClass")||"",f,s,e;return n.isFunction(u)&&(u=u(this.$element)),f=this.options.get("adaptDropdownCssClass"),f=f||r,u.indexOf(":all:")!==-1&&(u=u.replace(":all:",""),s=f,f=function(n){var t=s(n);return t!=null?t+" "+n:n}),e=this.options.get("dropdownCss")||{},n.isFunction(e)&&(e=e(this.$element)),t.syncCssClasses(o,this.$element,f),o.css(e),o.addClass(u),o},i}),t.define("select2/compat/initSelection",["jquery"],function(n){function t(n,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2");this.initSelection=i.get("initSelection");this._isInitialized=!1;n.call(this,t,i)}return t.prototype.current=function(t,i){var r=this;if(this._isInitialized){t.call(this,i);return}this.initSelection.call(null,this.$element,function(t){r._isInitialized=!0;n.isArray(t)||(t=[t]);i(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(n){function t(n,t,i){this._currentData=[];this._valueSeparator=i.get("valueSeparator")||",";t.prop("type")==="hidden"&&i.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead.");n.call(this,t,i)}return t.prototype.current=function(t,i){function f(t,i){var r=[];return t.selected||n.inArray(t.id,i)!==-1?(t.selected=!0,r.push(t)):t.selected=!1,t.children&&r.push.apply(r,f(t.children,i)),r}for(var e,r=[],u=0;u<this._currentData.length;u++)e=this._currentData[u],r.push.apply(r,f(e,this.$element.val().split(this._valueSeparator)));i(r)},t.prototype.select=function(t,i){if(this.options.get("multiple")){var r=this.$element.val();r+=this._valueSeparator+i.id;this.$element.val(r);this.$element.trigger("change")}else this.current(function(t){n.map(t,function(n){n.selected=!1})}),this.$element.val(i.id),this.$element.trigger("change")},t.prototype.unselect=function(n,t){var i=this;t.selected=!1;this.current(function(n){for(var u,f=[],r=0;r<n.length;r++)(u=n[r],t.id!=u.id)&&f.push(u.id);i.$element.val(f.join(i._valueSeparator));i.$element.trigger("change")})},t.prototype.query=function(n,t,i){for(var e,u,f=[],r=0;r<this._currentData.length;r++)e=this._currentData[r],u=this.matches(t,e),u!==null&&f.push(u);i({results:f})},t.prototype.addOptions=function(t,i){var r=n.map(i,function(t){return n.data(t[0],"data")});this._currentData.push.apply(this._currentData,r)},t}),t.define("select2/compat/matcher",["jquery"],function(n){function t(t){function i(i,r){var u=n.extend(!0,{},r),f,e,o;if(i.term==null||n.trim(i.term)==="")return u;if(r.children){for(f=r.children.length-1;f>=0;f--)e=r.children[f],o=t(i.term,e.text,e),o||u.children.splice(f,1);if(u.children.length>0)return u}return t(i.term,r.text,r)?u:null}return i}return t}),t.define("select2/compat/query",[],function(){function n(n,t,i){i.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2.");n.call(this,t,i)}return n.prototype.query=function(n,t,i){t.callback=i;var r=this.options.get("query");r.call(null,t)},n}),t.define("select2/dropdown/attachContainer",[],function(){function n(n,t,i){n.call(this,t,i)}return n.prototype.position=function(n,t,i){var r=i.find(".dropdown-wrapper");r.append(t);t.addClass("select2-dropdown--below");i.addClass("select2-container--below")},n}),t.define("select2/dropdown/stopPropagation",[],function(){function n(){}return n.prototype.bind=function(n,t,i){n.call(this,t,i);this.$dropdown.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(n){n.stopPropagation()})},n}),t.define("select2/selection/stopPropagation",[],function(){function n(){}return n.prototype.bind=function(n,t,i){n.call(this,t,i);this.$selection.on("blur change click dblclick focus focusin focusout input keydown keyup keypress mousedown mouseenter mouseleave mousemove mouseover mouseup search touchend touchstart",function(n){n.stopPropagation()})},n}),function(i){typeof t.define=="function"&&t.define.amd?t.define("jquery-mousewheel",["jquery"],i):typeof exports=="object"?module.exports=i:i(n)}(function(n){function e(r){var f=r||window.event,w=h.call(arguments,1),l=0,o=0,e=0,a=0,b=0,k=0,v,y,p;if(r=n.event.fix(f),r.type="mousewheel","detail"in f&&(e=f.detail*-1),"wheelDelta"in f&&(e=f.wheelDelta),"wheelDeltaY"in f&&(e=f.wheelDeltaY),"wheelDeltaX"in f&&(o=f.wheelDeltaX*-1),"axis"in f&&f.axis===f.HORIZONTAL_AXIS&&(o=e*-1,e=0),l=e===0?o:e,"deltaY"in f&&(e=f.deltaY*-1,l=e),"deltaX"in f&&(o=f.deltaX,e===0&&(l=o*-1)),e!==0||o!==0)return f.deltaMode===1?(v=n.data(this,"mousewheel-line-height"),l*=v,e*=v,o*=v):f.deltaMode===2&&(y=n.data(this,"mousewheel-page-height"),l*=y,e*=y,o*=y),a=Math.max(Math.abs(e),Math.abs(o)),(!t||a<t)&&(t=a,s(f,a)&&(t/=40)),s(f,a)&&(l/=40,o/=40,e/=40),l=Math[l>=1?"floor":"ceil"](l/t),o=Math[o>=1?"floor":"ceil"](o/t),e=Math[e>=1?"floor":"ceil"](e/t),i.settings.normalizeOffset&&this.getBoundingClientRect&&(p=this.getBoundingClientRect(),b=r.clientX-p.left,k=r.clientY-p.top),r.deltaX=o,r.deltaY=e,r.deltaFactor=t,r.offsetX=b,r.offsetY=k,r.deltaMode=0,w.unshift(r,l,o,e),u&&clearTimeout(u),u=setTimeout(c,200),(n.event.dispatch||n.event.handle).apply(this,w)}function c(){t=null}function s(n,t){return i.settings.adjustOldDeltas&&n.type==="mousewheel"&&t%120==0}var o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice,u,t,f,i;if(n.event.fixHooks)for(f=o.length;f;)n.event.fixHooks[o[--f]]=n.event.mouseHooks;i=n.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],e,!1);else this.onmousewheel=e;n.data(this,"mousewheel-line-height",i.getLineHeight(this));n.data(this,"mousewheel-page-height",i.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],e,!1);else this.onmousewheel=null;n.removeData(this,"mousewheel-line-height");n.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var r=n(t),i=r["offsetParent"in n.fn?"offsetParent":"parent"]();return i.length||(i=n("body")),parseInt(i.css("fontSize"),10)||parseInt(r.css("fontSize"),10)||16},getPageHeight:function(t){return n(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};n.fn.extend({mousewheel:function(n){return n?this.bind("mousewheel",n):this.trigger("mousewheel")},unmousewheel:function(n){return this.unbind("mousewheel",n)}})}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults"],function(n,t,i,r){if(n.fn.select2==null){var u=["open","close","destroy"];n.fn.select2=function(t){if(t=t||{},typeof t=="object")return this.each(function(){var r=n.extend(!0,{},t),u=new i(n(this),r)}),this;if(typeof t=="string"){var r,f=Array.prototype.slice.call(arguments,1);return(this.each(function(){var i=n(this).data("select2");i==null&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");r=i[t].apply(i,f)}),n.inArray(t,u)>-1)?this:r}throw new Error("Invalid arguments for Select2: "+t);}}return n.fn.select2.defaults==null&&(n.fn.select2.defaults=r),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return n.fn.select2.amd=t,i});!function(n){"use strict";var t=function(t,i){this.el=n(t);this.options=n.extend({},n.fn.typed.defaults,i);this.isInput=this.el.is("input");this.attr=this.options.attr;this.showCursor=this.isInput?!1:this.options.showCursor;this.elContent=this.attr?this.el.attr(this.attr):this.el.text();this.contentType=this.options.contentType;this.typeSpeed=this.options.typeSpeed;this.startDelay=this.options.startDelay;this.backSpeed=this.options.backSpeed;this.backDelay=this.options.backDelay;this.stringsElement=this.options.stringsElement;this.strings=this.options.strings;this.strPos=0;this.arrayPos=0;this.stopNum=0;this.loop=this.options.loop;this.loopCount=this.options.loopCount;this.curLoop=0;this.stop=!1;this.cursorChar=this.options.cursorChar;this.shuffle=this.options.shuffle;this.sequence=[];this.build()};t.prototype={constructor:t,init:function(){var n=this;n.timeout=setTimeout(function(){for(var t=0;t<n.strings.length;++t)n.sequence[t]=t;n.shuffle&&(n.sequence=n.shuffleArray(n.sequence));n.typewrite(n.strings[n.sequence[n.arrayPos]],n.strPos)},n.startDelay)},build:function(){var i=this,t;this.showCursor===!0&&(this.cursor=n('<span class="typed-cursor">'+this.cursorChar+"<\/span>"),this.el.after(this.cursor));this.stringsElement&&(this.strings=[],this.stringsElement.hide(),console.log(this.stringsElement.children()),t=this.stringsElement.children(),n.each(t,function(t,r){i.strings.push(n(r).html())}));this.init()},typewrite:function(n,t){if(this.stop!==!0){var r=Math.round(Math.random()*70)+this.typeSpeed,i=this;i.timeout=setTimeout(function(){var s=0,r=n.substr(t),e,u,o,f;if(r.charAt(0)==="^"&&(e=1,/^\^\d+/.test(r)&&(r=/\d+/.exec(r)[0],e+=r.length,s=parseInt(r)),n=n.substring(0,t)+n.substring(t+e)),i.contentType==="html"&&(u=n.substr(t).charAt(0),u==="<"||u==="&")){for(o="",f="",f=u==="<"?">":";";n.substr(t+1).charAt(0)!==f;)if(o+=n.substr(t).charAt(0),t++,t+1>n.length)break;t++;o+=f}i.timeout=setTimeout(function(){if(t===n.length){i.options.onStringTyped(i.arrayPos);if(i.arrayPos===i.strings.length-1&&(i.options.callback(),i.curLoop++,i.loop===!1||i.curLoop===i.loopCount))return;i.timeout=setTimeout(function(){i.backspace(n,t)},i.backDelay)}else{t===0&&i.options.preStringTyped(i.arrayPos);var r=n.substr(0,t+1);i.attr?i.el.attr(i.attr,r):i.isInput?i.el.val(r):i.contentType==="html"?i.el.html(r):i.el.text(r);t++;i.typewrite(n,t)}},s)},r)}},backspace:function(n,t){if(this.stop!==!0){var r=Math.round(Math.random()*70)+this.backSpeed,i=this;i.timeout=setTimeout(function(){var u,r;if(i.contentType==="html"&&n.substr(t).charAt(0)===">"){for(u="";n.substr(t-1).charAt(0)!=="<";)if(u-=n.substr(t).charAt(0),t--,t<0)break;t--;u+="<"}r=n.substr(0,t);i.attr?i.el.attr(i.attr,r):i.isInput?i.el.val(r):i.contentType==="html"?i.el.html(r):i.el.text(r);t>i.stopNum?(t--,i.backspace(n,t)):t<=i.stopNum&&(i.arrayPos++,i.arrayPos===i.strings.length?(i.arrayPos=0,i.shuffle&&(i.sequence=i.shuffleArray(i.sequence)),i.init()):i.typewrite(i.strings[i.sequence[i.arrayPos]],t))},r)}},shuffleArray:function(n){var r,i,t=n.length;if(t)while(--t)i=Math.floor(Math.random()*(t+1)),r=n[i],n[i]=n[t],n[t]=r;return n},reset:function(){var n=this,t;clearInterval(n.timeout);t=this.el.attr("id");this.el.empty();typeof this.cursor!="undefined"&&this.cursor.remove();this.strPos=0;this.arrayPos=0;this.curLoop=0;this.options.resetCallback()}};n.fn.typed=function(i){return this.each(function(){var u=n(this),r=u.data("typed"),f=typeof i=="object"&&i;r&&r.reset();u.data("typed",r=new t(this,f));typeof i=="string"&&r[i]()})};n.fn.typed.defaults={strings:["These are the default values...","You know what you should do?","Use your own!","Have a great day!"],stringsElement:null,typeSpeed:0,startDelay:0,backSpeed:0,shuffle:!1,backDelay:500,loop:!1,loopCount:!1,showCursor:!0,cursorChar:"|",attr:null,contentType:"html",callback:function(){},preStringTyped:function(){},onStringTyped:function(){},resetCallback:function(){}}}(window.jQuery),function(n){var i=function(){function n(n){this.init(n||".js-ajax-form")}return n.prototype.init=function(n){var t=$(n);t.each(function(n,t){var r=$(t).find('input[type="submit"]'),i=$(t).find(".captcha-loader");r.addClass("button-disabled");i.addClass("hidden");Helpers.CaptchaHelper.initCaptcha("focus",function(){r.removeClass("button-disabled");i.addClass("hidden")},$(t));$(t).one("focusin",function(){i.removeClass("hidden")})});$(n).submit(function(n){var t=$(n.currentTarget);if($.validator.unobtrusive.parse(t),!t.valid())return!1;var r=$(t).siblings(".js-formposted-message"),i=$(t).siblings(".js-formposted-error-message"),u=t.attr("method"),f=t.attr("action");return $.ajax({url:f,method:u,data:t.serialize()}).done(function(){var n=t.data("gaevent");n&&ga("send","event",n,"form posted",window.location.pathname);r.show();i.hide();t.hide()}).fail(function(){i.show()}),!1})},n}(),t;n.AjaxForm=i;t=function(){function n(n){this.init(n||".js-ajax-simplecontact-form")}return n.prototype.init=function(n){var t=this,i=$(n);i.each(function(n,t){var r=$(t).find('input[type="submit"]'),i=$(t).find(".captcha-loader");r.addClass("button-disabled");i.addClass("hidden");Helpers.CaptchaHelper.initCaptcha("focus",function(){r.removeClass("button-disabled");i.addClass("hidden")},$(t));$(t).one("focusin",function(){i.removeClass("hidden")})});$(n).submit(function(n){var i=$(n.currentTarget),r=$(".js-form-error-message");if($.validator.unobtrusive.parse(i),r.hide(),!i.valid())return!1;if(t.isFormEmpty(i))return r.show(),!1;var e=$(i).siblings(".js-formposted-message"),u=$(i).siblings(".js-formposted-error-message"),o=i.attr("method"),s=i.attr("action"),f=i.serializeArray();return f.push({name:"captchaSolution",value:Helpers.CaptchaHelper.getSolution(i)}),$.ajax({url:s,method:o,data:$.param(f)}).done(function(){var n=i.data("gaevent");n&&ga("send","event",n,"form posted",window.location.pathname);e.show();u.hide();i.hide()}).fail(function(){u.show()}),!1});$(n+" input").keypress(function(){var n=$(".js-form-error-message");n.hide()})},n.prototype.isFormEmpty=function(n){var t=!1;return n.find("input[type='tel'], input[type='text'], input[type='email']").each(function(n,i){if($(i).val().length>0){t=!0;return}}),!t},n}();n.SimpleContactAjaxForm=t}(Forms||(Forms={})),function(n){var t=function(){function n(n,t,i,r){var u=this;this.inProgress=!1;this.startNodeId=n;this.nrOfArticles=t;this.startIndex=t;this.parentNodeId=r;$(document).on("click","#showMore",function(){u.getArticles()});i.toLowerCase()!=="true"&&this.hideShowMoreButton()}return n.prototype.hideShowMoreButton=function(){$("#showMore").hide()},n.prototype.getArticles=function(){var n=this,t,i;this.inProgress||(this.toggleLoader(!0),t=$(".article-tile").last().offset().top,i="/Article/GetNextArticles?currentPageId="+this.startNodeId+"&startIndex="+this.startIndex+"&count="+this.nrOfArticles+"&parentNodeId="+this.parentNodeId,$.ajax({url:i,method:"GET"}).done(function(t,i,r){var u=r.getResponseHeader("X-Has-More-Articles")==="True";u||n.hideShowMoreButton();n.startIndex=n.startIndex+n.nrOfArticles;$("#articleList").append(t)}).fail(function(n){console.log(n)}).then(function(){n.toggleLoader(!1);$(window).scrollTop(t)}))},n.prototype.toggleLoader=function(n){this.inProgress=n;$("#article-loader").toggleClass("loading",n)},n}();n.ArticleListing=t}(Article||(Article={})),function(n){var t=function(){function n(){this.initBrokerSearch();this.initBrokerRegionFiltering();this.initRoleFiltering()}return n.prototype.initBrokerSearch=function(){var n=this;this.applyFilters();$("#js-broker-search").on("search",function(){return n.applyFilters(),!1});$("#js-broker-search").keyup(function(){return n.applyFilters(),!1})},n.prototype.initBrokerRegionFiltering=function(){var n=this;$("#js-region-filter").change(function(){return n.applyFilters(),!1})},n.prototype.initRoleFiltering=function(){var n=this;$("#js-role-filter").change(function(){return n.applyFilters(),!1})},n.prototype.applyFilters=function(){var n=this,r=$("#js-broker-search"),t=r.val().toLowerCase(),e=$("#js-region-filter").find("option:selected").text(),u=$("#js-region-filter").find("option:selected").data("values"),o=u?u.toString().split(","):[],i=parseInt($("#js-role-filter").val()),f;r.attr("placeholder",this.getSearchText(t,i===2));$(".js-broker-container").each(function(r,u){var f=$(u),e=n.matchingName(f,t),s=n.matchingRegion(f,o,"regionids"),h=n.matchingType(f,i);e&&s&&h?f.is(":visible")||f.show():f.is(":visible")&&f.hide()});f=this.getQueryString(t,e,i);history.replaceState&&history.replaceState(null,null,f)},n.prototype.getQueryString=function(n,t,i){var u=!1,r="";return n&&(r+="?maklarnamn="+encodeURIComponent(n),u=!0),!t||t.indexOf("Alla")>-1||(r+=u?"&":"?",t=t.replace(/\s/g,""),r+="omrade="+encodeURIComponent(t.trim()).toLowerCase(),u=!0),r+=u?"&":"?",r+("roll="+i)},n.prototype.getSearchText=function(n,t){return n.length>0?n:t?"Sk mklare":"Sk"},n.prototype.matchingName=function(n,t){var i=Helpers.StringHelper.stripVowelAccent(n.data("brokername"));return i.toLowerCase().indexOf(Helpers.StringHelper.stripVowelAccent(t))>-1},n.prototype.matchingRegion=function(n,t,i){if(t.length<1||t.length===1&&t[0]==="0")return!0;var r=!1,u=n.data(i).toString().split(",");return $(t).each(function(n,t){var i=t.toString().trim();i&&u.indexOf(i)>-1&&(r=!0)}),r},n.prototype.matchingType=function(n,t){return t===1?!0:t===n.data("employeetype")},n}();n.BrokerSearch=t}(Search||(Search={}));__assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},function(n){var t=function(){function n(){}return n.initCaptcha=function(n,t,i){var u=window.friendlyChallenge,f,r;u&&(f={doneCallback:t,startMode:n,language:"sv",skipStyleInjection:!0},r=i?i.find("#frc-widget").get(0):$(document).querySelector("#frc-widget"),r)&&(r.friendlyChallengeWidget?(r.friendlyChallengeWidget.opts=__assign({},r.friendlyChallengeWidget.opts,f),r.friendlyChallengeWidget.reset()):u.autoWidget=new u.WidgetInstance(r,f))},n.hasSolution=function(n){var i=window.friendlyChallenge,t;return i.autoWidget?(t=this.getSolutionElement(n),!t)?!1:t.value&&!t.value.startsWith(".UNSTARTED")&&!t.value.startsWith(".FETCHING")&&!t.value.startsWith(".UNFINISHED"):!1},n.getSolution=function(n){if(!this.hasSolution(n))return null;var t=this.getSolutionElement(n);return t.value},n.getSolutionElement=function(n){return n?n.find("[name='frc-captcha-solution']").get(0):document.querySelector("[name='frc-captcha-solution']")},n}();n.CaptchaHelper=t}(Helpers||(Helpers={})),function(n){var t=function(){function n(){this.initTogglers()}return n.prototype.initTogglers=function(){$(document).on("click","*[data-toggle]",function(n){var t=$(n.currentTarget),i=t.data("toggle"),r=$("#"+i);return r.toggleClass("active"),!1})},n}();n.ClickToggle=t}(Toggles||(Toggles={})),function(n){var t=function(){function n(){}return n.GetCurrentWidth=function(t){var i=window.innerWidth;return t===n.WidthLarge||i-n.WidthMedium>0?n.WidthLarge:t===n.WidthMedium||i-n.WidthSmall>0?n.WidthMedium:n.WidthSmall},n.GetWindowWidth=function(){var t=window.innerWidth;return t-n.WidthMedium>0?n.WidthLarge:t-n.WidthSmall>0?n.WidthMedium:n.WidthSmall},n.WidthLarge=1200,n.WidthMedium=767,n.WidthSmall=479,n}();n.Dimensions=t}(Constants||(Constants={})),function(n){var t=function(){function n(){this.initCookieAcceptance()}return n.prototype.initCookieAcceptance=function(){$("#js-accept-cookies").click(function(n){var t=$(n.currentTarget),i=t.closest(".js-cookie-acceptance"),r=t.attr("href");return i.fadeOut(),$.ajax({url:r}).done(function(){}).fail(function(){}),!1})},n}();n.CookieAcceptance=t}(Cookies||(Cookies={})),function(n){var t=function(){function n(n,t,i){this.containerSelector=i;this.brickSelector=t;this.wallSelector=n;this.init()}return n.prototype.init=function(){var n=new freewall(this.wallSelector);n.reset({selector:this.brickSelector,animate:!0,cellW:function(n){return n<480?n:n<992?n/2:n/4},cellH:"auto",onResize:function(){n.refresh()},gutterX:20,gutterY:20});$(this.containerSelector).fadeIn();n.fitWidth()},n}();n.EventWall=t}(Wall||(Wall={})),function(n){var t=function(){function n(){this.init()}return n.prototype.init=function(){$(document).on("click",".js-close-featerlight",function(){$.featherlight.close()});$(".js-lightbox").click(function(n){var f,t;n.preventDefault();$.featherlight.close();var r=n.currentTarget,u=$(r).data("openlightbox"),i=$(r).data("openlightboxform");if((i||(i=$(u).find("form")[0]),f=$(r).data("usepostback"),t=$(i),!(t.length<1))&&(t.removeData("validator").removeData("unobtrusiveValidation"),$.featherlight($(u),{closeIcon:"",variant:"featherlight--dark",afterContent:function(){$(function(){jQuery.validator.unobtrusive.parse(document);jQuery.validator.unobtrusive.parse(t)});var i=$('input[type="submit"]'),n=$(".captcha-loader");i.addClass("button-disabled");n.addClass("hidden");Helpers.CaptchaHelper.initCaptcha("focus",function(){i.removeClass("button-disabled");n.addClass("hidden")},$(".featherlight-content"));$(".featherlight-content").one("focusin",function(){n.removeClass("hidden")})},afterClose:function(){$(document).unbind("submit");t.removeData("validator").removeData("unobtrusiveValidation");$(".js-form").show();$(".js-form-result").hide()},afterOpen:function(){$("body").css({overflow:"hidden"});$(".featherlight").append('<span class="close-button close-button--inverted js-close-featerlight"><\/span>')},beforeClose:function(){$("body").css({overflowY:"auto"})}}),!f))$(document).on("submit",i,function(n){var i=$(".js-form-result"),r,u,t,f;return i.hide(),r=$(".js-form-result-message"),u=$(".js-form"),u.show(),t=$(n.currentTarget),t.valid()&&(t.addClass("loading"),u.hide(),f=t.serializeArray(),f.push({name:"captchaSolution",value:Helpers.CaptchaHelper.getSolution($(".featherlight-content"))}),$.ajax({url:t.attr("action"),method:"POST",data:$.param(f),headers:{accept:"application/json"}}).done(function(){t.resetValidation();r.text("tack!");i.show()}).fail(function(n){i.show();var t="Ngot gick fel. Kontakta utvecklare.";n!=null&&n.responseJSON!=null&&(t=n.responseJSON.message);r.text(t)}).always(function(){t.removeClass("loading")})),!1})})},n}();n.FormLightbox=t}(LightBox||(LightBox={})),function(n){var t=function(){function n(){this.initToggles()}return n.prototype.initToggles=function(){document.querySelectorAll(".faq").forEach(function(n){var i=n.querySelector(":scope > .question-container"),t=n.querySelector(":scope > .answer");i.addEventListener("click",function(){t.classList.contains("hidden")?(n.classList.add("expanded"),t.classList.remove("hidden")):(n.classList.remove("expanded"),t.classList.add("hidden"))})})},n}();n.FrequentlyAskedQuestions=t}(Toggles||(Toggles={})),function(n){var t=function(){function n(){this.sectionSelector=".slidesection";this.init()}return n.prototype.init=function(){var n=this.playVideo,t=this;$("#fullpage").fullpage({sectionSelector:t.sectionSelector,scrollingSpeed:700,navigation:!0,navigationPosition:"right",onLeave:function(i,r){var e=$(t.sectionSelector)[r-1],u,f;if($.each($(".vimeo-iframe"),function(n,t){var i=$f(t);i.api("pause")}),r===1){n();return}(u=$(e).find(".vimeo-iframe")[0],u)&&(f=$f(u),f.api("paused",function(n){n&&f.api("play")}))},afterRender:function(){n()}});$(document).on("click",".link-down",function(){return $.fn.fullpage.moveSectionDown(),!1})},n.prototype.playVideo=function(){var n=document.getElementById("main-video");n&&n.play()},n}();n.FullPage=t}(PageType||(PageType={}));var __awaiter=this&&this.__awaiter||function(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?u(n.value):new i(function(t){t(n.value)}).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e},_this=this;(function(){var r=0,n=undefined,t=0,e="fake-fullscreen",o=document.querySelectorAll("[data-trigger-fullscreen]"),s=document.querySelector(".js-prev"),h=document.querySelector(".js-next"),c=document.querySelector(".js-close-slideshow"),u,i,f,v;if(o&&s&&(h||c)){u=function(){for(var u,i=n.querySelectorAll("li"),r=0;r<i.length;r++)i[r].style.display="none";if(i[t].style.display="block",u=n.querySelector(".slideshow-info"),!u)throw new Error("Cannot find slideshow info element");u.innerText=t+1+"/"+i.length};s.addEventListener("click",function(n){l("back");n.preventDefault()});h.addEventListener("click",function(n){l("forward");n.preventDefault()});c.addEventListener("click",function(n){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return n.preventDefault(),[4,y()];case 1:return t.sent(),[2]}})})});var y=function(){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(t){switch(t.label){case 0:return(n&&(n.style.display="none"),!a())?[3,2]:[4,document.exitFullscreen()];case 1:return t.sent(),window.scrollTo(0,r),[3,3];case 2:document.body.style.overflowY="auto";n.classList.remove(e);t.label=3;case 3:return[2]}})})},l=function(i){var r=n.querySelectorAll("li");t=i==="forward"?t===r.length-1?0:t+1:t>0?t-1:r.length-1;u()},a=function(){return!!n.requestFullscreen},p=function(){document.body.style.overflowY="hidden";n.classList.add(e)};for(i=0,f=o;i<f.length;i++)v=f[i],v.addEventListener("click",function(i){var o,f;if(r=window.scrollY,o=i.currentTarget.dataset.triggerFullscreen,f=i.currentTarget.closest("[data-slider-index]"),!f)throw new Error("Could not find index element.");var s=f.dataset.sliderIndex,h=parseInt(s),e=document.querySelector(o);n=e;t=h;u();e.style.display="flex";a()?e.requestFullscreen():p();i.preventDefault();i.stopPropagation()});document.addEventListener("fullscreenchange",function(){document.fullscreenElement||(n&&(n.style.display="none"),window.scrollTo(0,r))})}})(),function(n){var t=function(){function n(){this.initGlobalSearch();this.autoComplete()}return n.prototype.initGlobalSearch=function(){$(document).on("click",".js-close-featerlight",function(){$.featherlight.close()});$("#js-search-link").click(function(n){var t=$(n.currentTarget),i=$(t).data("openlightbox"),r=$(i);$.featherlight(r,{closeIcon:"",variant:"featherlight--dark featherlight--on-top",afterContent:function(){},afterOpen:function(){$("body").css({overflow:"hidden"}).addClass("active");$(".featherlight").append('<span class="close-button close-button--inverted js-close-featerlight"><\/span>');$(".js-global-search").focus()},beforeClose:function(){$("body").css({overflowY:"auto"}).removeClass("active");$(".js-autocomplete-results").empty()}});n.preventDefault()})},n.prototype.handleNavigation=function(n,t){var i=-1,r=t.children(".js-autocomplete-suggestion"),u;return($.each(r,function(n,t){var r=$(t);r.hasClass("active")&&(i=n,r.removeClass("active"))}),n===38)?(i-=1,$(r[i]).addClass("active"),!1):n===40?(i+=1,$(r[i]).addClass("active"),!1):n===13?i<0?!0:(u=$(r[i]).find("a").attr("href"),window.location.href=u,!1):void 0},n.prototype.autoComplete=function(){var n=this;$(".js-global-search").on("search",function(){n.emptyAutoComplete()});$(".js-global-search").keydown(function(t){var i=t.which,r=$(t.currentTarget).closest(".js-search-overlay").find(".js-autocomplete");if(i===13||i===38||i===40)return n.handleNavigation(i,r)});$(".js-global-search").keyup(function(t){var i=$(t.currentTarget).val(),r=t.which;if(r===13||r===38||r===40)return!1;if(!i)return n.emptyAutoComplete(),!1;$.when($.ajax({url:"/api/autocomplete/"+encodeURIComponent(i),method:"GET",contentType:"application/json"}).fail(function(n){console.log(n)}),$.ajax({url:"//api.booli.se/suggest/getSuggests?nrOfAreas=6&nrOfStreets=3&key=erikolsson.se&domain=erikolsson.se&reqId=1&suggestString="+encodeURIComponent(i),dataType:"jsonp"}).fail(function(n){console.log(n)})).then(function(t,r){var u=t[0],f;u.query===i&&(f=$.parseJSON(r[0]),n.parseHits(f,u))})})},n.prototype.parseHits=function(n,t){var r=$("#property-search-page").data("propertysearchpage"),i='<div class="autocomplete js-autocomplete">';n.length<1&&t.groups.length<1?i+="":(n.length>0&&(i+='<h5 class="autocomplete__heading">Bostder till salu<\/h5>',$.each(n,function(n,t){if(!(n>7)){var u=t.suggestion+", "+t.parent;i+='<div class="autocomplete__suggestion js-autocomplete-suggestion"><a href="'+r+"?areaids="+t.id+"-"+encodeURIComponent(u)+'">'+u+"<\/a><\/div>"}})),$.each(t.groups,function(n,t){i+='<h5 class="autocomplete__heading">'+t.name+"<\/h5>";$.each(t.hits,function(n,t){i+='<div class="autocomplete__suggestion js-autocomplete-suggestion"><a href="'+t.url+'">'+t.text+"<\/a><\/div>"})}));i+="<\/div>";$(".js-autocomplete-results").html(i)},n.prototype.emptyAutoComplete=function(){$(".js-autocomplete-results").empty()},n}();n.GlobalSearch=t}(Search||(Search={}));__awaiter=this&&this.__awaiter||function(n,t,i,r){return new(i||(i=Promise))(function(u,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?u(n.value):new i(function(t){t(n.value)}).then(o,s)}e((r=r.apply(n,t||[])).next())})};__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(e){if(f)throw new TypeError("Generator is already executing.");while(r)try{if(f=1,u&&(i=e[0]&2?u["return"]:e[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,e[1])).done)return i;(u=0,i)&&(e=[e[0]&2,i.value]);switch(e[0]){case 0:case 1:i=e;break;case 4:return r.label++,{value:e[1],done:!1};case 5:r.label++;u=e[1];e=[0];continue;case 7:e=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(e[0]===6||e[0]===2)){r=0;continue}if(e[0]===3&&(!i||e[1]>i[0]&&e[1]<i[3])){r.label=e[1];break}if(e[0]===6&&r.label<i[1]){r.label=i[1];i=e;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(e);break}i[2]&&r.ops.pop();r.trys.pop();continue}e=t.call(n,r)}catch(o){e=[6,o];u=0}finally{f=i=0}if(e[0]&5)throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},f,u,i,e;return e={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e},function(n){var t=function(){function n(){var n=this;this.areas=[];this.housingCoverageContainerId=undefined;this.attachHandlersAutoComplete=function(){var t=$(".js-housing-coverage-autocomplete-hit");t.click(function(t){t.preventDefault();var i=$(t.currentTarget),r=i.text().trim(),u=i.attr("data-place-id");n.selectArea(r,u)});t.hover(function(t){t.preventDefault();n.clearSelectedSearchHitElement();var i=$(t.currentTarget).closest("li");i.addClass("selected")})}}return n.prototype.init=function(n,t){this.housingCoverageContainerId=t;this.initMap(n);this.initAutoComplete();this.initSendHousingCoverage();this.initConfirmationOverlay()},n.prototype.initMap=function(n){var i=this,t;this.map=new Maps.HousingCoverageMap;this.map.init(n,this.housingCoverageContainerId);t=$("#js-draw-polygon-button");t.on("click",function(){i.map.toggleDrawingMode()})},n.prototype.getAreaName=function(){return this.map.isCustomPolygon()?"Eget omrde":this.latestLocation.name},n.prototype.initSendHousingCoverage=function(){var n=this,t=$("#js-housing-coverage-filter"),i=$(t.find("form")[0]);i.on("submit",function(t){return __awaiter(n,void 0,void 0,function(){var r,n,i,u,f;return __generator(this,function(e){switch(e.label){case 0:return(t.preventDefault(),r=$(t.currentTarget),!r.valid())?[2,!0]:(this.setLoadState(!0),n=this.objectifyForm(r),i=this.map.isCustomPolygon(),u={sellAssistance:n.sellAssistance==="yes",email:n.email,firstName:n.firstName,lastName:n.lastName,price:parseInt(n.price)||0,rooms:parseInt(n.room)||0,type:n.type,expressAreaCode:i?undefined:this.latestLocation.expressIdentifier,municipalityCode:i?undefined:this.latestLocation.code,minLivingArea:parseInt(n.area)||0,drawnArea:i?{name:"Eget omrde",polygon:this.map.getPolygon()}:undefined},[4,fetch("/api/housingcoverage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})]);case 1:return(f=e.sent(),this.setLoadState(!1),f.ok)?(this.showConfirmationOverlay(!0),[2]):(this.showConfirmationOverlay(!1),[2])}})})})},n.prototype.initConfirmationOverlay=function(){var n=$("#js-housing-coverage-confirmation"),t=n.find(".js-close-housing-coverage-confirmation");t.on("click",function(){n.addClass("hidden")})},n.prototype.showConfirmationOverlay=function(n){var t=$("#js-housing-coverage-confirmation"),i=t.find(".js-success"),r=t.find(".js-error");i.addClass("hidden");r.addClass("hidden");t.removeClass("hidden");n?i.removeClass("hidden"):r.removeClass("hidden")},n.prototype.objectifyForm=function(n){for(var i=n.serializeArray(),r={},t=0;t<i.length;t++)r[i[t].name]=i[t].value;return r},n.prototype.debounce=function(n,t){var r=this,i;return t===void 0&&(t=300),function(){for(var f=[],u=0;u<arguments.length;u++)f[u]=arguments[u];clearTimeout(i);i=setTimeout(function(){n.apply(r,f)},t)}},n.prototype.initAutoComplete=function(){var t=this,n=".js-housing-coverage-input-search";$(n).on("search",function(n){var t=$(n.currentTarget),i=t.next(".js-housing-coverage-autocomplete-results");i.addClass("hidden")});$(n).keydown(function(n){var i=$(n.currentTarget);return t.handleKeyboardNavigation(n.which,i)});$(n).keyup(this.debounce(function(n){return __awaiter(t,void 0,void 0,function(){var r,i,u,t,e,o,f;return __generator(this,function(s){switch(s.label){case 0:return(r=$(n.currentTarget),i=r.val(),u=r.next(".js-housing-coverage-autocomplete-results"),t=n.which,t===Shared.Keys.Enter||t===Shared.Keys.LeftArrow||t===Shared.Keys.RightArrow||t===Shared.Keys.UpArrow||t===Shared.Keys.DownArrow)?[2,!1]:i?i?[4,fetch("/api/housingcoverage/search?q="+i)]:[2]:(u.addClass("hidden"),u.html(""),[2,!1]);case 1:return(e=s.sent(),o=r.val(),o!==i)?[2]:[4,e.json()];case 2:return f=s.sent(),this.areas=f,this.parseResults(f,u),[2]}})})}))},n.prototype.handleKeyboardNavigation=function(n,t){var o=t.next(".js-housing-coverage-autocomplete-results"),r=o.find(".selected"),i,u,f,e;if(n===Shared.Keys.UpArrow||n===Shared.Keys.DownArrow)this.clearSelectedSearchHitElement(),n===Shared.Keys.DownArrow?i=r.next():n===Shared.Keys.UpArrow&&(i=r.prev()),i&&i.length>0?i.addClass("selected"):r.addClass("selected");else if(n===Shared.Keys.Enter&&(u=$(r.find("a")[0]),u)){if(f=u.text(),!f)return;e=u.attr("data-place-id");this.selectArea(f,e)}},n.prototype.parseResults=function(n,t){if(!n||n.length<1){t.addClass("hidden");return}t.removeClass("hidden");var i="";$.each(n,function(n,t){var r=n===0;i+=r?'<li class="selected">':"<li>";i+='<a href="#" class="js-housing-coverage-autocomplete-hit" data-place-id="'+t.expressIdentifier+'"> '+t.name+" <\/a><\/li>"});t.html(i);this.attachHandlersAutoComplete()},n.prototype.selectArea=function(n,t){var r=this,i=t&&t!=="null"?this.areas.find(function(n){return n.expressIdentifier===t}):this.areas.find(function(t){return t.code!==0&&t.name===n.trim()}),u;if(this.selectHit(n),this.latestLocation=i,i.type===1){u=new google.maps.Geocoder;u.geocode({address:i.name.trim()},function(n){var t=n[0].geometry.location.lat(),i=n[0].geometry.location.lng();r.map.removePolygon();r.map.goTo(t,i);r.hideSearchView()});return}this.showMap(i)},n.prototype.selectHit=function(n){var t=$(".js-housing-coverage-autocomplete-results"),i=$(".js-housing-coverage-input-search");i.val(n);t.addClass("hidden")},n.prototype.showMap=function(n){this.map.removePolygon();this.map.disableDrawMode();this.hideSearchView();this.map.drawPolygon(n.coordinates)},n.prototype.clearSelectedSearchHitElement=function(){var n=$(".js-housing-coverage-autocomplete-results").find("li");$.each(n,function(n,t){$(t).removeClass("selected")})},n.prototype.hideSearchView=function(){var n=$("#js-housing-coverage-search");n.addClass("hidden")},n.prototype.setLoadState=function(n){var r=$("#"+this.housingCoverageContainerId),t=r.find("#js-housing-coverage-loader"),i=$(".js-housing-coverage-search-content");if(n){t.addClass("loading");t.removeClass("hidden");i.addClass("hidden");return}t.removeClass("loading");t.addClass("hidden");i.removeClass("hidden")},n}();n.HousingCoverage=t}(HousingCoverage||(HousingCoverage={})),function(n){var t=function(){function t(){}return t.prototype.init=function(t,i){var u,r,f;document.getElementById(t)&&(u=new google.maps.StyledMapType(n.GoogleMap.MapStyle,{name:"Ljus"}),this.housingCoverageContainerSelector="#"+i,r="light_style",f={mapTypeId:google.maps.MapTypeId.ROADMAP,draggable:!0,scrollwheel:!0,zoom:18,center:new google.maps.LatLng(59.311348385611481,18.066565990447998),mapTypeControl:!1,streetViewControl:!1,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.LEFT_TOP},clickableIcons:!1,disableDoubleClickZoom:!0,clickable:!1},this.map=new google.maps.Map(document.getElementById(t),f),this.map.mapTypes.set(r,u),this.map.setMapTypeId(r),this.attachListeners())},t.prototype.drawPolygon=function(n){var c=this,o,t,i;this.areaCoordinates=n;var r=-90,u=-180,f=90,e=180,s=$.map(n,function(n){var t=n.lat,i=n.lon;return t>r&&(r=t),t<f&&(f=t),i>u&&(u=i),i<e&&(e=i),new google.maps.LatLng(t,i)}),h=new google.maps.Polygon({paths:[s],fillColor:"#000000",fillOpacity:.5,strokeColor:"#F39200"});this.polygon=h;h.setMap(this.map);o=s[0];t=new google.maps.Marker({position:new google.maps.LatLng(o.lat(),o.lng()),icon:{url:"/static/images/eo_cross_full.png",anchor:new google.maps.Point(12,12)}});this.polygonMarker=t;t.setMap(this.map);t.addListener("click",function(){c.enableDrawMode()});i=new google.maps.LatLngBounds;i.extend(new google.maps.LatLng(f-.0007,e-.0007));i.extend(new google.maps.LatLng(r+.0007,u+.0007));this.map.fitBounds(i)},t.prototype.removePolygon=function(){this.polygonMarker&&this.polygon&&(this.customPolygon=!1,this.polygon.setMap(null),this.polygonMarker.setMap(null),this.polygon=null,this.polygonMarker=null,this.areaCoordinates=null)},t.prototype.goTo=function(n,t){var i=new google.maps.LatLng(n,t);this.map.panTo(i);this.map.setZoom(9)},t.prototype.getPolygon=function(){return this.areaCoordinates},t.prototype.disableDrawMode=function(){$(this.housingCoverageContainerSelector).removeClass("draw-mode");this.inDrawMode=!1;this.removePolyline();this.drawing=!1;this.map.setOptions({draggable:!0,scrollwheel:!0})},t.prototype.toggleDrawingMode=function(){this.inDrawMode?this.disableDrawMode():this.enableDrawMode()},t.prototype.isCustomPolygon=function(){return this.customPolygon},t.prototype.removePolyline=function(){this.polyline&&(this.polyline.setMap(null),this.polyline=null)},t.prototype.enableDrawMode=function(){this.disableDrawMode();this.map.setOptions({draggable:!1,scrollwheel:!1});this.removePolygon();$(this.housingCoverageContainerSelector).addClass("draw-mode");this.inDrawMode=!0;this.polyline=new google.maps.Polyline({map:this.map,clickable:!1,strokeColor:"#F39200"})},t.prototype.attachListeners=function(){var n=this;this.drawListener=google.maps.event.addListener(this.map,"mousedown",function(){n.polyline&&(n.drawing=!0)});this.moveListener=google.maps.event.addListener(this.map,"mousemove",function(t){n.drawing&&n.polyline.getPath().push(t.latLng)});this.drawCompleteListener=google.maps.event.addListener(this.map,"mouseup",function(t){n.onDrawComplete(t.pixel)});this.outListener=google.maps.event.addListener(this.map,"mouseout",function(t){if(!n.map.getBounds().contains(t.latLng)&&n.drawing)n.onDrawComplete(t.pixel)})},t.prototype.onDrawComplete=function(n){var t,i;(this.drawing=!1,this.polyline&&this.polyline.getPath().getLength()!==0)&&(t=this.polyline.getPath(),this.isPathValidSize(t)?(this.removePolyline(),i=$.map(t.getArray(),function(n){return{lat:n.lat(),lon:n.lng()}}),this.drawPolygon(i),this.disableDrawMode(),this.customPolygon=!0):(this.showSmallPolygonWarning(n.x,n.y),this.enableDrawMode()))},t.prototype.showSmallPolygonWarning=function(n,t){var i=$(".small-polygon-warning");i.css({left:n,top:t});i.removeClass("hidden");window.setTimeout(function(){i.addClass("hidden")},2e3)},t.prototype.isPathValidSize=function(n){var u,f,e,o,s,r,t,i,h,c;if(!n||n.getLength()<=2)return!1;for(s=n.getArray(),r=0;r<s.length;r++)t=s[r].lat(),i=s[r].lng(),r===0?(u=t,e=t,f=i,o=i):(t>u&&(u=t),t<e&&(e=t),i>f&&(f=i),i<o&&(o=i));return h=u-e,c=f-o,h>.0004&&c>.0004},t}();n.HousingCoverageMap=t}(Maps||(Maps={})),function(n){var t=function(){function n(){this.imageSwitcher=new Images.ImageSwitcher;this.initImageLightBox()}return n.prototype.initImageLightBox=function(){$(document).on("click",".js-close-featerlight",function(){$.featherlight.close()});$(document).on("click",".image-lightbox",function(n){var i=$(n.currentTarget).data("vitecobjectid"),r=$(n.currentTarget).data("id"),t=$("#images-"+r);if(!i)throw"vitecobjectid is not set on the clicked link";return t.show(),$.featherlight(t,{variant:"featherlight--imagebox",closeIcon:"",afterOpen:function(){$("body").css({overflow:"hidden"});$(".featherlight").append('<span class="close-button close-button--inverted js-close-featerlight"><\/span>');$("#back-to-top-images").length===0&&$(".featherlight").append('<div id="back-to-top-images" class="back-to-top active js-top-of-images"><a href="#top-of-images">Tillbaka till toppen<\/a><\/div>')},afterContent:function(){},beforeClose:function(){$("body").css({overflowY:"auto"})}}),!1})},n}();n.ImageLightBox=t}(LightBox||(LightBox={})),function(n){var t=function(){function n(){var n=this;this.switchBackgroundImages();window.addEventListener("resize",function(){n.switchBackgroundImages()})}return n.prototype.switchBackgroundImages=function(){var n=this,t=$(".background-image-resize");$.each(t,function(t,i){var r=$(i);n.switchBackgroundImage(r)})},n.prototype.getSize=function(n){var t=n.css("background-image").replace("url(","").replace(")",""),i=+t.split("?width=")[1];return Constants.Dimensions.GetCurrentWidth(i)},n.prototype.switchBackgroundImage=function(n){var t=this.getSize(n),i;if(t===Constants.Dimensions.WidthLarge){this.updateBackgroundImage(n,n.data("imageurl-large"));return}if(t===Constants.Dimensions.WidthMedium){this.updateBackgroundImage(n,n.data("imageurl-medium"));return}i=n.data("imageurl-small");this.updateBackgroundImage(n,i||n.data("imageurl-medium"))},n.prototype.updateBackgroundImage=function(n,t){t&&n.css("background-image",this.getBackGroundImageCss(t))},n.prototype.getBackGroundImageCss=function(n){return"url("+n+")"},n}();n.ImageSwitcher=t}(Images||(Images={})),function(n){var t=function(){function t(n,t,i,r,u,f){u===void 0&&(u=null);f===void 0&&(f=!0);this.coordinate=n;this.mapElementId=t;this.address=i;this.googleMapKey=r;this.objectId=u;this.showAddressMarker=f;this.initIntersectionObserver()}return t.prototype.initIntersectionObserver=function(){var i=this;if("IntersectionObserver"in window){var r="https://maps.googleapis.com/maps/api/js?key="+this.googleMapKey+"&libraries=geometry",n=document.getElementById(this.mapElementId),t=new IntersectionObserver(function(u){var f,e;u[0].isIntersecting&&(t.unobserve(n),f=document.createElement("script"),f.type="text/javascript",f.src=r,f.onload=function(){i.setupMap()},e=document.querySelector("body"),e.appendChild(f))},{threshold:0,rootMargin:"200px"});t.observe(n)}},t.prototype.setupMap=function(){var t=this,n=document.getElementById("map-toggler");n.onclick=function(){n.parentElement.classList.add("hidden");t.initMap()}},t.prototype.initMap=function(){var t=new n.GoogleMap;t.init(this.coordinate,this.mapElementId,this.address,!0,15,this.showAddressMarker);this.objectId!=null&&t.addDotsForOngoingSales(this.objectId)},t}();n.MapLoader=t}(Maps||(Maps={})),function(n){var u=function(){function n(n,t){this.southWest=n;this.northEast=t}return n}(),t,i,r;n.Bounds=u;t=function(){function n(n,t){this.lat=n;this.long=t}return n}();n.Coordinate=t;i=function(){function n(){this.mapStyleType=new google.maps.StyledMapType(n.MapStyle,{name:"Ljus"})}return n.prototype.initWithOutCoordinates=function(n){if(document.getElementById(n)){var i=this.mapStyleType,t="light_style",r={mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,t]}};this.map=new google.maps.Map(document.getElementById(n),r);this.enableGaEventOnClick();this.map.mapTypes.set(t,i);this.map.setMapTypeId(t)}},n.prototype.setAreaBounds=function(n,t,i,r){if(this.map){var u=new google.maps.LatLngBounds(new google.maps.LatLng(n,t),new google.maps.LatLng(i,r));this.map.fitBounds(u)}},n.prototype.init=function(n,t,i,r,u,f){if((r===void 0&&(r=!0),u===void 0&&(u=15),f===void 0&&(f=!0),document.getElementById(t))&&n.lat!==null&&n.long!==null){var o=new google.maps.LatLng(+n.lat.toString().replace(",","."),+n.long.toString().replace(",",".")),s=this.mapStyleType,e="light_style",h=Constants.Dimensions.GetWindowWidth()<Constants.Dimensions.WidthLarge?1:0,c={zoom:u-h,center:o,mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,e]}};this.map=new google.maps.Map(document.getElementById(t),c);this.map.mapTypes.set(e,s);this.map.setMapTypeId(e);this.enableGaEventOnClick();f&&(this.imageLarge={url:"/static/images/eo_map_symbol.png",size:new google.maps.Size(80,100),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(40,100),scaledSize:new google.maps.Size(80,100)},this.imageSmall={url:"/static/images/eo_map_symbol.png",size:new google.maps.Size(80,100),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(20,50),scaledSize:new google.maps.Size(40,50)},this.marker=new google.maps.Marker({position:o,map:this.map,title:i}),this.marker.setZIndex(999),this.setMarkerIcon(r))}},n.prototype.addDotsForOngoingSales=function(n){var t=this;this.map&&google.maps.event.addListener(this.map,"bounds_changed",function(){t.addOnGoingSales(n)})},n.prototype.addOnGoingSales=function(n){var t=this;$.ajax({url:"/api/ongoingsales/"+(n||""),method:"GET",contentType:"application/json"}).done(function(n){$.each(n,function(n,i){var r=new google.maps.Marker({position:new google.maps.LatLng(i.coordinate.lat,i.coordinate.long),map:t.map,icon:"/static/images/eo_map_symbol_small_light.png"}),u='<div class="map-popup"><h5 class="small map-popup--metaheading">Till salu<\/h5><h4 class="mini map-popup--heading">'+i.streetAddress+'<\/h4><p class="italic map-popup--info">'+i.info+'<\/p><p class="map-popup--action"><a data-gaevent="for-sale-marker" href="'+i.url+'">Till bostaden >><\/a><\/p><\/div>',f=new google.maps.InfoWindow({content:u});google.maps.event.clearListeners(t.map,"bounds_changed");r.addListener("click",function(){ga("send","event","map-info-window-opened","click",window.location.pathname);t.openInfoWindow(r,f)})})}).fail(function(){})},n.prototype.enableGaEventOnClick=function(){this.map.addListener("click",function(){ga("send","event","map-clicked","click",window.location.pathname)})},n.prototype.openInfoWindow=function(n,t){this.infoWindow&&this.infoWindow.close();t.open(this.map,n);this.infoWindow=t},n.prototype.setMarkerIcon=function(n){if(n){var t=Constants.Dimensions.GetWindowWidth();if(t===Constants.Dimensions.WidthLarge){this.marker.setIcon(this.imageLarge);return}}this.marker.setIcon(this.imageSmall)},n.prototype.centerMapToAddress=function(n,i){var r=this,u=new google.maps.Geocoder;u.geocode({address:n},function(u,f){f===google.maps.GeocoderStatus.OK&&r.init(new t(u[0].geometry.location.lat(),u[0].geometry.location.lng()),i,n,!1)})},n.prototype.centerAllMapsToAddress=function(n){var t=this,i=$("."+n);$.each(i,function(n,i){var r=$(i),u=r.data("address"),f=r.attr("id");t.centerMapToAddress(u,f)})},n.MapStyle=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]},{featureType:"transit.line",elementType:"all",stylers:[{visibility:"off"}]}],n}();n.GoogleMap=i;r=function(){function n(n,t){this.lat=n;this.lon=t}return n}();n.CoreCoordinate=r}(Maps||(Maps={})),function(n){var t=function(){function n(){this.menuContainer=$("#horizontal-menu");this.scrolledDistanceOld=0;this.initNavigation();this.initSubNavigation()}return n.prototype.initNavigation=function(){var r=this,n=$("#navigation-button"),t=$("#menu-overlay"),u=$("#property-menu"),i=$("body");$(t).click(function(f){var e=$(f.target);return e.closest(".js-menu-overlay-inner").length>0?!0:(r.close(u,t,i,n),!1)});$(document).keyup(function(f){f.keyCode===27&&i.hasClass("active")&&r.close(u,t,i,n)});n.click(function(r){u.toggleClass("static");i.toggleClass("active");t.toggleClass("active");n.toggleClass("active");r.preventDefault()});$(document).scroll(function(){r.toggleStickyTopMenu()});$(document).scroll()},n.prototype.toggleStickyTopMenu=function(){var n=$(window).scrollTop();n>=20?this.menuContainer.addClass("sticky-menu-top"):this.menuContainer.removeClass("sticky-menu-top")},n.prototype.showMenuOnScrollUp=function(n){var t=$("#back-to-top"),f=$("#js-menu-visibility").data("hide"),e=$("#js-menu-visibility").data("visibility");clearTimeout(this.backToTopTimer);var i=$(n.currentTarget).scrollTop(),r=this.menuContainer.find("> div"),u=this.menuContainer.find("a.logo-link");e==="always"?(r.addClass("active"),u.addClass("active"),t.removeClass("active")):i>this.scrolledDistanceOld?(r.removeClass("active"),u.removeClass("active"),t.removeClass("active")):i>10||f===!1?(r.addClass("active"),u.addClass("active"),i>0&&t.addClass("active")):(r.removeClass("active"),u.removeClass("active"),t.removeClass("active"));this.scrolledDistanceOld=i;this.backToTopTimer=setTimeout(function(){i>0&&t.addClass("active")},500)},n.prototype.close=function(n,t,i,r){n.toggleClass("static");i.removeClass("active");t.removeClass("active");r.removeClass("active");event.preventDefault()},n.prototype.initSubNavigation=function(){var n=$("#subnavigation-button"),t=$("#subnavigation-mobile");n&&(n.click(function(i){t&&(t.toggleClass("visible"),i.preventDefault());n.toggleClass("active")}),t.find("li > div").click(function(n){var t,i;n.target.tagName==="DIV"&&(t=$(n.currentTarget).siblings("ul"),t.length?t.toggleClass("expanded"):(i=$($(n.currentTarget).children("a")),i.length&&(window.location.href=i.attr("href"))))}))},n}();n.TopNavigation=t}(Navigation||(Navigation={})),function(n){var t=function(){function n(){this.subscribe()}return n.prototype.subscribe=function(){$(".newsletterform").submit(function(n){var t=$(n.currentTarget),u=t.find(".subscription"),i,r;return(t.find(".success").hide(),t.find(".errorDiv").hide(),t.find(".js-ConsentRegistration-error-message").hide(),i=u.val(),!t.find("[name=ConsentIsGiven]").is(":checked"))?(r=t.find(".js-ConsentRegistration-error-message"),r.show(),!1):($.post("/newsletter/subscribe",{Email:i}).done(function(){t.find(".success").html("Tack fr anmlan!").show()}).fail(function(){t.find(".errorDiv").html("Ngot gick fel. Testa igen senare.").show()}),!1)})},n}();n.SubScription=t}(NewsletterSubScription||(NewsletterSubScription={})),function(n){var t=function(){function n(){}return n.initHeroTextAnimation=function(){var n=document.querySelector(".nyprod-start-page .introsection__subheading.loading");n&&n.classList.remove("loading")},n.initObserver=function(){if("IntersectionObserver"in window){var n=new IntersectionObserver(function(n){n.forEach(function(n){n.isIntersecting?n.target.classList.add("visible"):n.target.classList.remove("visible")})},{threshold:.4});document.querySelectorAll(".nyprod-projects > .nyprod-project").forEach(function(t){return n.observe(t)})}},n}();n.Animations=t}(NyprodAnimations||(NyprodAnimations={})),function(n){var t=function(){function n(n){this.imageSwitcher=new Images.ImageSwitcher;this.blockNumber=2;this.hasMoreProjects=n.toLowerCase()==="true"?!0:!1;this.inProgress=!1;this.defaultAreaName="stockholm";this.init()}return n.prototype.init=function(){var n=this,t=$(".property-container").first().children().height(),i=$("#footer").children().height(),r=t+i;$(window).scroll(function(){$(window).scrollTop()>$(document).height()-$(window).height()-r&&n.hasMoreProjects&&!n.inProgress&&n.getProjects()})},n.prototype.getProjects=function(){var n=this,t,i;this.inProgress=!0;t=Shared.getUrlParameter("areaName");t||(t=this.defaultAreaName);i="/NewProductionProjectListing/GetNextProjects?&areaName="+t+"&blockNumber="+this.blockNumber;$.ajax({url:i,contentType:"application/json",method:"GET"}).done(function(t){var i="hasMoreProjects_"+n.blockNumber;n.hasMoreProjects=$(t).filter("#"+i).text()==="True";n.blockNumber=n.blockNumber+1;$("#projects").append(t);n.imageSwitcher.switchBackgroundImages();NyprodAnimations.Animations.initObserver()}).fail(function(n){console.log(n)}).then(function(){n.inProgress=!1})},n}();n.ProjectListing=t}(Project||(Project={})),function(n){var t=function(){function n(){var n=this;this.initNavigation();window.addEventListener("resize",function(){n.initNavigation()})}return n.prototype.initNavigation=function(){var n=$("#property-menu"),r=$("#property-menu-container"),i=this.getAnchors(n),u=this.getAnchorSections(n),t=$(i[0]),f=$("#footer");$(document).scroll(function(e){r.css("display")!=="block"&&r.show();var o=$(e.currentTarget).scrollTop()+$(window).height(),s=f.offset().top;o>=s?n.addClass("static"):n.removeClass("static");$.each(u,function(n,r){if(o>r.offset().top)return t!==i[n]&&(t.removeClass("active"),t=$(i[n]),t.addClass("active")),!1})})},n.prototype.getAnchors=function(n){return n.find("li").get().reverse()},n.prototype.getAnchorSections=function(n){var t=n.find("a").map(function(n,t){return $(t.hash)});return t.get().reverse()},n}();n.PropertyMenu=t}(Navigation||(Navigation={})),function(n){var t=function(){function n(){this.init()}return n.prototype.init=function(){$(".js-rating-toggle-readMore").click(function(n){var t=$(n.target),i=t.parent().find(".js-rating-readMore"),r=t.parent().find(".js-rating-readMore-dots");i[0]!=undefined&&($(i[0]).is(":hidden")?($(i[0]).show(),$(r).hide(),$(t).text("Dlj")):($(i[0]).hide(),$(r).show(),$(t).text("Ls mer")))})},n}();n.RatingPuff=t}(Rating||(Rating={})),function(n){var t=function(){function n(){this.initSmoothScroll();this.initParallaxScroll()}return n.prototype.initSmoothScroll=function(){var n=$("html, body");$(document).on("click","a[href*=\\#]:not([href=\\#])",function(t){var i=$($(t.currentTarget).attr("href")),u,r;return(i=i.length?i:null,i&&i.length)?(i.selector==="#top-of-images"?$(".featherlight-content").animate({scrollTop:0},600):(u=$("#horizontal-menu > div").height(),r=i.offset().top,n.animate({scrollTop:r>u?r-u:r},600)),!1):!0})},n.prototype.initParallaxScroll=function(){if(!$("html").hasClass("is-touch")){var n=$(".js-paralax-background").length>0;if(n)$(window).on("scroll",function(){var n=$(window).scrollTop()*-.3+"px";$(".js-paralax-background").css("background-position","center "+n)})}},n}();n.Scroll=t}(Transitions||(Transitions={})),function(n){var t=function(){function n(){this.initSearchPage();this.query=$(".js-search-page-input").val()}return n.prototype.initSearchPage=function(){var n=this;$(document).on("click",".js-paging",function(t){var i=$(t.currentTarget).data("page");if(!i)throw"page on data attr cannot be undefined on paging link";return n.page=i,n.search(),!1});$(".search-form").submit(function(){var t=$(".js-search-page-input"),i=t.val();return(n.page=null,!i)?!1:(n.query=i,n.search(),t.blur(),!1)});$(".js-search-page-input").keyup(this.debounce(function(t){var i=$(t.currentTarget).val();(n.page=null,i)&&(n.query=i,n.search())},300))},n.prototype.search=function(){var n=this;$.ajax({url:"/api/search/"+encodeURIComponent(this.query.trim())+"/page/"+(this.page||1),method:"GET"}).done(function(t){$("#js-search-info-text").show();n.updateUrl();var i=n.compileTemplate(t);$("#search-query").text(n.query);$(".js-rangetext").text(t.rangeText);$("#search-hits").text(t.totalHits);$("#js-search-results").html(i);t.showSuggestions?($("#search-suggestion").text(t.suggestion),$("#search-suggestion").attr("href","?q="+t.suggestion),$("#search-suggestion-container").show()):$("#search-suggestion-container").hide()}).fail(function(){$("#js-search-results").html("<div class='center section'><h5>Vi r ledsna men ngot gick snett i din skning.<\/h5><\/div>");$("#search-hits").empty();$("#js-search-info-text").hide()})},n.prototype.updateUrl=function(){history.replaceState&&history.replaceState(null,null,"?q="+encodeURIComponent(this.query)+"&page="+(this.page||1))},n.prototype.compileTemplate=function(n){var t=$("#searchresults-template").html(),i=Handlebars.compile(t);return i(n)},n.prototype.debounce=function(n,t){var i=null;return function(){var r=this,u=arguments;clearTimeout(i);i=setTimeout(function(){n.apply(r,u)},t)}},n}();n.SearchPage=t}(Search||(Search={})),function(n){function i(n){for(var u=decodeURIComponent(window.location.search.substring(1)),r=u.split("&"),i,t=0;t<r.length;t++)if(i=r[t].split("="),i[0]===n)return i[1];return null}var t;(function(n){n[n.Tab=9]="Tab";n[n.Enter=13]="Enter";n[n.LeftArrow=37]="LeftArrow";n[n.RightArrow=39]="RightArrow";n[n.UpArrow=38]="UpArrow";n[n.DownArrow=40]="DownArrow"})(t=n.Keys||(n.Keys={}));n.getUrlParameter=i}(Shared||(Shared={})),function(n){var t=function(){function n(){this.addClassList()}return n.prototype.addClassList=function(){"classList"in document.documentElement||!Object.defineProperty||typeof HTMLElement=="undefined"||Object.defineProperty(HTMLElement.prototype,"classList",{get:function(){function t(t){return function(i){var r=n.className.split(/\s+/),u=r.indexOf(i);t(r,u,i);n.className=r.join(" ")}}var n=this,i={add:t(function(n,t,i){~t||n.push(i)}),remove:t(function(n,t){~t&&n.splice(t,1)}),toggle:t(function(n,t,i){~t?n.splice(t,1):n.push(i)}),contains:function(t){return!!~n.className.split(/\s+/).indexOf(t)},item:function(t){return n.className.split(/\s+/)[t]||null}};return Object.defineProperty(i,"length",{get:function(){return n.className.split(/\s+/).length}}),i}})},n}();n.ClassList=t}(Shims||(Shims={})),function(n){var t=function(){function n(){this.init()}return n.prototype.init=function(){var t=this,i=!1,r=$("#contact-submit"),n=$(".captcha-loader");n.addClass("hidden");Helpers.CaptchaHelper.initCaptcha("focus",function(){n.addClass("hidden");i&&t.sendContactRequest()},$(".simplecontact-form"));$(".simplecontact-form").one("focusin",function(){n.removeClass("hidden")});r.click(function(){i=!0;var n=$(".simplecontact-form");Helpers.CaptchaHelper.hasSolution(n)&&t.sendContactRequest()})},n.prototype.sendContactRequest=function(){var n=$(".simplecontact-form"),i=$(".js-form-error-message");if($.validator.unobtrusive.parse(n),i.hide(),!n.valid())return!1;var r=$(".js-form-result-message"),t=$(".js-error-message"),u=$("input[name=__RequestVerificationToken]").val(),f=$("#phone_input").val(),e=$("#email_input").val(),o=$("input[name=BrokerEmail").val(),s=$("input[name=BrokerName").val(),h=$("input[name=VitecBrokerId").val(),c=$("#leadTracker_formName").val(),l=$("#leadTracker_formFolder").val(),a=$("#leadTracker_clientId").val(),v=$("#leadTracker_googleAdId").val(),y=Helpers.CaptchaHelper.getSolution(n),p={phone:f,email:e,brokerName:s,brokerEmail:o,vitecBrokerId:h,leadTracker:{formName:c,formFolder:l,clientId:a,googleAdId:v},captchaSolution:y};return $.ajax({url:"/FormPost/SimpleContactRequest",method:"POST",data:JSON.stringify(p),headers:{__RequestVerificationToken:u},dataType:"json",contentType:"application/json; charset=utf-8"}).done(function(){var i=n.data("gaevent");i&&ga("send","event",i,"form posted",window.location.pathname);r.text("Tack fr att du anmlt ditt intresse av en fri vrdering genom mig, jag kommer att kontakta dig inom en snar framtid.");t.hide();n.hide()}).fail(function(){t.text("Det har uppsttt ett fel, var god frsk igen").show()}),!1},n}();n.SimpleContactForm=t}(Form||(Form={})),function(n){var t=function(){function n(){this.initSlideToggles()}return n.prototype.initSlideToggles=function(){$(document).on("click","*[data-slide]",function(n){var t=$(n.currentTarget),u=t.data("slide"),i=t.data("mapid"),r=t.data("selecttext");return t.toggleClass("active"),$(u).stop().slideToggle(200,function(){if(i){var n=document.getElementById(i);google.maps.event.trigger(n,"resize")}r&&$(r).select()}),!1})},n}();n.SlideToggle=t}(Toggles||(Toggles={})),function(n){var t=function(){function n(){this.initShare()}return n.prototype.initShare=function(){$(document).on("click",".js-messenger-share",function(n){if($("html").hasClass("is-touch"))return!0;var i=$(n.currentTarget),t=i.data("href");return t||(t=i.data("anghref")),FB.ui({method:"send",link:t},function(){}),!1});$(document).on("click",".js-facebook-share",function(n){var t=$(n.currentTarget),i=t.data("href");i||(i=t.data("anghref"));var r=t.data("title"),u=t.data("summary"),f=t.data("image");return FB.ui({method:"feed",link:i,caption:r,description:u,picture:f},function(){}),!1});$(document).on("click",".new-window-share",function(n){var t=$(n.currentTarget),i=t[0].getAttribute("href");return window.open(i,"ShareWindow","height=450, width=550, top="+($(window).height()/2-275)+", left="+($(window).width()/2-225)+", toolbar=0, location=0, menubar=0, directories=0, scrollbars=0"),!1})},n}();n.SocialMediaShare=t}(Share||(Share={})),function(n){var t=function(){function n(){}return n.initialize=function(){var t=document.querySelector("#background-video"),n;if(t){var f=window.matchMedia("(orientation: portrait)").matches,i=window.innerWidth,e=window.innerHeight,r,u;f?(u="/Static/Images/mobile-poster.jpg",r=e>960?"https://player.vimeo.com/external/395454814.sd.mp4?s=71b5e9ae39bb80ff9c64fafa4350a05f3a9113c9&amp;profile_id=165":"https://player.vimeo.com/external/395454814.sd.mp4?s=71b5e9ae39bb80ff9c64fafa4350a05f3a9113c9&amp;profile_id=164"):(u="/Static/Images/desktop-poster.jpg",r=i>1440?"https://player.vimeo.com/external/396689501.hd.mp4?s=c9801f12ed4daaba566143ee7d8ddafcacd9cde1&amp;profile_id=175":i>1024?"https://player.vimeo.com/external/396689501.hd.mp4?s=c9801f12ed4daaba566143ee7d8ddafcacd9cde1&amp;profile_id=174":i>800?"https://player.vimeo.com/external/396689501.sd.mp4?s=c3d240bea8c81736f30bfeec250a1a878fd495b6&amp;profile_id=165":"https://player.vimeo.com/external/395146248.sd.mp4?s=c3d240bea8c81736f30bfeec250a1a878fd495b6&amp;profile_id=164");n=document.createElement("source");n.setAttribute("type","video/mp4");n.setAttribute("src",r);t.appendChild(n);t.setAttribute("poster",u)}},n}();n.VideoSelector=t}(StartPageVideo||(StartPageVideo={})),function(n){var t=function(){function n(){}return n.stripVowelAccent=function(n){for(var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],t=0,r=i.length;t<r;t++)n=n.replace(i[t].re,i[t].ch);return n},n}();n.StringHelper=t}(Helpers||(Helpers={})),function(n){var t=function(){function n(){}return n.initHeroTextAnimation=function(){var n=document.querySelector(".introsection__subheading .heading-wrapper");n&&(n.innerHTML=n.textContent.replace(/\S/g,"<span class='letter'>$&<\/span>"));n.classList.remove("hide")},n}();n.Animations=t}(SubsiteAnimations||(SubsiteAnimations={})),function(n){var t=function(){function n(){this.countStarted=!1;this.countSelector=".js-percentage-counter";this.tickSpeed=250;this.initCounter()}return n.prototype.initCounter=function(){var n=this;this.countIfVisible();$(window).scroll(function(){n.countIfVisible()})},n.prototype.countIfVisible=function(){this.countStarted||this.isVisible($(this.countSelector)[0])&&this.startCounting()},n.prototype.startCounting=function(){var n=this;this.countStarted=!0;this.interval=window.setInterval(function(){n.tick()},this.tickSpeed)},n.prototype.tick=function(){var n=$(this.countSelector),i=n.length,t=0;$.each(n,function(n,i){var r=$(i),o=(r.data("percentage")+"").replace(",","."),u=parseFloat((r.text()+"").replace(",",".")),f=parseFloat(o),e;if(u>=f){t++;return}f-u<1?(e=Math.round((u+.1)*10)/10,r.text(e)):r.text(u+1)});i===t&&window.clearInterval(this.interval)},n.prototype.isVisible=function(n){if(!$(n)[0])return!1;var t=$(n)[0].getBoundingClientRect();return(t.height>0||t.width>0)&&t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)},n}();n.Counter=t}(Ticker||(Ticker={})),function(n){var t=function(){function n(){this.initClickEvents();this.initScrollEvents()}return n.prototype.initClickEvents=function(){$(document).on("click","*[data-virtualpage]",function(n){var t="virtual/"+$(n.currentTarget).data("virtualpage");ga("send","pageview",{page:t,title:document.title})});$(document).on("click","*[data-gaevent]",function(n){var t="event-"+$(n.currentTarget).data("gaevent");ga("send","event",t,"click",window.location.pathname)});$(document).on("click",'a:not([href*="'+document.domain+'"])',function(n){var r=$(n.currentTarget),i=r.attr("href"),t;i&&(t=i.charAt(0),t!=="."&&t!=="#"&&t!=="/"&&ga("send","event","outbound","click",i,0))});$("form.sales-lead-form").one("focusin",function(n){var t=$(n.currentTarget),i=t.find("[name=formName]").val(),r=t.find("[name=formFolder]").val(),u=window.dataLayer=window.dataLayer||[];u.push({event:"formInteraction",formFolder:r,formName:i})});$("form.sales-lead-form").on("submit",function(n){var t=$(n.currentTarget);if(t.valid()!==!1){var i=t.find("[name=formName]").val(),r=t.find("[name=formFolder]").val(),u=window.dataLayer=window.dataLayer||[];u.push({event:"formSubmit",formFolder:r,formName:i})}})},n.prototype.initScrollEvents=function(){var i=this,n=!1,t=$("#karta")[0];t&&$(window).scroll(function(){i.isVisible(t)&&!n&&(ga("send","event","ob_map_seen","seen",window.location.pathname),n=!0)})},n.prototype.isVisible=function(n){var t=$(n)[0].getBoundingClientRect();return(t.height>0||t.width>0)&&t.bottom>=0&&t.right>=0&&t.top<=(window.innerHeight||document.documentElement.clientHeight)&&t.left<=(window.innerWidth||document.documentElement.clientWidth)},n}();n.Tracking=t}(Analytics||(Analytics={})),function(n){var t=function(){function n(n,t){this.init(n,t)}return n.captchaCallback=function(){$(".captcha-loader").addClass("hidden");n.validateForm()},n.validateForm=function(){var n=$("#viewing-booking-submit"),t=$("#viewing-booking-form"),i=t.find("[name=ConsentIsGiven]");if(!i.is(":checked")||!Helpers.CaptchaHelper.hasSolution(t)){n.addClass("button-disabled");return}n.removeClass("button-disabled")},n.prototype.init=function(n,t){var i=this.handleSelected,r=this.handleSubmittedForm;$("#viewingSelect_input").val()!=null&&i($("#viewingSelect_input").val(),r,n,t);$("#viewingSelect_input").change(function(){i($(this).val(),r,n,t)})},n.prototype.handleSubmittedForm=function(){var n=$("#viewing-booking-form"),r=$(".js-form-error-message");if(r.hide(),$.validator.unobtrusive.parse(n),!n.valid())return!1;var u=$(".js-form-result-message"),t=$(".js-error-message"),f=$("#viewing-selector"),e=$("input[name=__RequestVerificationToken]").val(),o=$("#SelectedViewingId").val(),s=$("#ResponsibleBrokerId").val(),h=$("#timeSlot_input").val(),c=$("#firstName_input").val(),l=$("#lastName_input").val(),a=$("#email_input").val(),v=$("#phone_input").val(),y=$("#IsNewProduction").val(),p=$("#financialContact_input").is(":checked"),w=$("#propertyValuation_input").is(":checked"),b=Helpers.CaptchaHelper.getSolution(n),k=$("#leadTracker_formName").val(),d=$("#leadTracker_formFolder").val(),g=$("#leadTracker_clientId").val(),nt=$("#leadTracker_googleAdId").val(),tt={selectedViewingId:o,selectedTimeSlotId:h,responsibleBrokerId:s,firstName:c,lastName:l,phone:v,email:a,interestedInFinancialContact:p,interestedInFreeValuationOfProperty:w,isNewProduction:y,leadTracker:{formName:k,formFolder:d,clientId:g,googleAdId:nt},captchaSolution:b},i=$("#viewingForm-loader");return i.removeClass("hidden"),$.ajax({url:"/FormPost/ViewingBooking",method:"POST",data:JSON.stringify(tt),headers:{__RequestVerificationToken:e},dataType:"json",contentType:"application/json; charset=utf-8"}).done(function(r){var e,o;i.addClass("hidden");e=n.data("gaevent");e&&ga("send","event",e,"form posted",window.location.pathname);o=r!==undefined||r!==""?r:"Du r bokad p visningen och kommer f en bekrftelse skickad till din mailadress.";u.text(o);f.hide();t.hide();n.hide()}).fail(function(n){i.addClass("hidden");n&&n.statusText&&n.statusText!==""?t.text(n.statusText).show():t.text("Vi kunde tyvrr inte genomfra din bokning. Frsk grna igen eller kontakta mklaren.").show()}),!1},n.prototype.handleSelected=function(t,i,r,u){if(r!=null){var f=r.find(function(n){return n.SelectedViewingId===t});if(f==null){$("#viewingFormPlaceholder").html("<p>Var vnlig och vlj ett tillgngligt visningstillflle.<\/p>");$("#viewingFormPlaceholder").fadeIn("slow");return}$.ajax({type:"POST",url:u,data:f,success:function(t){var u,r,e,o,f;$("#viewingFormPlaceholder").html(t);u=$("#viewing-booking-submit");u.click(function(n){return i(n)});u.addClass("button-disabled");r=$("#viewing-booking-form");e=r.find("[name=ConsentIsGiven]");e.change(function(){n.validateForm()});r.data("validator",null);$.validator.unobtrusive.parse($("form"));o=$(".input-validation-error");o.removeClass("input-validation-error");f=$(".field-validation-error");f.removeClass("field-validation-error").addClass("field-validation-valid");f.text("");$("#viewingFormPlaceholder").fadeIn("slow");$(".captcha-loader").addClass("hidden");Helpers.CaptchaHelper.initCaptcha("focus",n.captchaCallback,r);r.one("focusin",function(){$(".captcha-loader").removeClass("hidden");var n=r.find("[name=formName]").val(),t=r.find("[name=formFolder]").val(),i=window.dataLayer=window.dataLayer||[];i.push({event:"formInteraction",formFolder:t,formName:n})})}})}},n}();n.ViewingBookingForm=t}(Form||(Form={})),function(n){var t=function(){function n(n){this.pageId=n;this.init()}return n.prototype.init=function(){var n=this;$(".js-regionfilter").click(function(t){var i=$(t.currentTarget),r=i.data("region");return n.setActive(i),n.selectedRegion=r,n.applyFilters(),!1});$(".js-typefilter").click(function(t){var i=$(t.currentTarget),r=i.data("type");return n.setActive(i),n.selectedType=r,n.applyFilters(),!1})},n.prototype.setActive=function(n){$.each(n.siblings(),function(n,t){$(t).removeClass("active")});n.addClass("active")},n.prototype.applyFilters=function(){var t=this,n="/api/viewings/"+this.pageId;this.selectedRegion&&(n+="/"+this.selectedRegion);this.selectedType&&(n+="/"+this.selectedType);$.ajax({url:n,method:"GET",contentType:"application/json"}).done(function(n){$("#viewings-container").html(t.compileTemplate(n));t.updateUrl()}).fail(function(){$("#viewings-container").html("<div class='section center'><h6>Ngot gick snett. Vi jobbar p problemet.<\/h6><\/div>")})},n.prototype.updateUrl=function(){if(history.replaceState){var n="";this.selectedRegion&&(n+="?region="+this.selectedRegion);this.selectedType&&(n+=n?"&propertyType="+this.selectedType:"?propertyType="+this.selectedType);history.replaceState(null,null,n?n:location.pathname)}},n.prototype.compileTemplate=function(n){var t=$("#viewinglisting-template").html(),i=Handlebars.compile(t);return i(n)},n}();n.ViewingListingFilter=t}(Filter||(Filter={})),function(n){var t=function(){function n(){this.initXFormSubmit()}return n.prototype.initXFormSubmit=function(){var n=this,t=$(".xform");t.each(function(n,t){var r=$(t).find(".js-xform-submit"),i=$(t).find(".captcha-loader");r.addClass("button-disabled");i.addClass("hidden");Helpers.CaptchaHelper.initCaptcha("focus",function(){r.removeClass("button-disabled");i.addClass("hidden")},$(t));$(t).one("focusin",function(){i.removeClass("hidden")})});t.submit(function(t){var i=$(t.currentTarget),y=i.find(".startdate").val(),o,c,f,r;if(i.find("#startdate").val(y),i.find("#enddate").val(i.find(".enddate").val()),o=i.find("#captchaSolution"),o&&o.val(Helpers.CaptchaHelper.getSolution(i)),$.validator.unobtrusive.parse(i),!i.valid())return i.find("[name=ConsentIsGiven]").is(":checked")||(c=i.find(".js-ConsentRegistration-error-message"),c.show()),!1;if(n.sending)return!1;f=window.hasOwnProperty("FormData");n.sending=!0;r=$(t.target);r.addClass("xform--sending");var l=r.find("#successRedirectUrl").val(),a=r.find(".js-thankyou-message"),s=r.find(".js-error-message");a.hide();s.hide();var u=t.target,h=null,e=r.find(".js-xform-submit");if(e.hide(),f){var p=e.attr("name"),w=e.attr("value"),v=new FormData(u);v.append(p,w);h=v}else h=n.getformDataFallBack(u);return $.ajax({url:u.action,data:h,processData:!f,contentType:f?!1:"application/x-www-form-urlencoded",type:"POST"}).done(function(){if(!!l)return window.location.href=l,!1;u.reset();a.show();$(u).find("> .js-form").hide()}).fail(function(n){s.html("<p>"+n.statusText+"<\/p>");s.show();e.show()}).always(function(){$(t.target).removeClass("xform--sending");n.sending=!1}),!1})},n.prototype.getformDataFallBack=function(n){for(var i=[],t=0;t<n.length;t++){var r=$(n[t]).attr("name"),u=$(n[t]).val(),f={name:r,value:u};i.push(f)}return i},n}();n.XFormSubmit=t}(XForms||(XForms={}))